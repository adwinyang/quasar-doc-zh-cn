"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[38949],{38949:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Hn});var t=a(83673);const o=(0,t._)("p",null,[(0,t.Uk)("Quasar 应用程序的一个常见用例是"),(0,t._)("strong",null,"在实例化根Vue应用程序实例之前运行代码"),(0,t.Uk)("，例如注入和初始化您自己的依赖项(示例：Vue组件、库…)或者简单地配置一些应用程序的启动代码。")],-1),e=(0,t._)("p",null,[(0,t.Uk)("由于你无法访问任何"),(0,t._)("code",{class:"doc-token"},"/main.js"),(0,t.Uk)("文件(以便 Quasar CLI 可以无缝地初始化和构建SPA/PWA/SSR/Cordova/Electron的相同代码库)，Quasar通过允许用户定义所谓的启动文件为这个问题提供了一个优雅的解决方案。")],-1),c=(0,t._)("p",null,[(0,t.Uk)("在早期的 Quasar 版本中，为了在根Vue实例实例化之前运行代码，你可以改变"),(0,t._)("code",{class:"doc-token"},"/src/main.js"),(0,t.Uk)("文件并添加任何你需要执行的代码。")],-1),p=(0,t._)("p",null,[(0,t.Uk)("这种方法有一个很大的问题：随着项目的发展，你的"),(0,t._)("code",{class:"doc-token"},"main.js"),(0,t.Uk)("文件很可能变得杂乱无章，维护起来也很困难，这就违背了 Quasar 鼓励开发者编写可维护的、优雅的跨平台应用程序的理念。")],-1),k=(0,t._)("p",null,[(0,t.Uk)("有了启动文件，就可以将你的每个依赖关系分割成独立的、易于维护的文件。通过"),(0,t._)("code",{class:"doc-token"},"quasar.conf.js"),(0,t.Uk)("的配置，禁用任何一个引导文件，甚至在上下文中决定哪些引导文件可以进入构建，也是非常简单的。")],-1),l=(0,t._)("p",null,"启动文件是一个简单的JavaScript文件，可以选择导出一个函数。Quasar在启动应用程序时将调用导出的函数，并向该函数传递带有以下属性的***对象。",-1),u=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"text-left"},"属性名"),(0,t._)("th",{class:"text-left"},"描述")])],-1),_=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"app")]),(0,t._)("td",null,"Vue应用实例")],-1),r=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"router")]),(0,t._)("td",null,"来自’src/router/index.js’的Vue Router实例。")],-1),i=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"store")]),(0,t._)("td",null,[(0,t.Uk)("应用程序Vuex商店的实例 - "),(0,t._)("strong",null,"store只有在你的项目使用Vuex时才会被传递(你有src/store)"),(0,t.Uk)("。")])],-1),d=(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"ssrContext")],-1),U=(0,t.Uk)("仅在服务器端可用，如果为SSR构建。"),m=(0,t.Uk)("更多信息"),g=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"urlPath")]),(0,t._)("td",null,"URL的路径名(路径+搜索)部分。它在客户端也包含哈希值。")],-1),y=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"publicPath")]),(0,t._)("td",null,"配置的公共路径。")],-1),h=(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("code",{class:"doc-token"},"redirect")]),(0,t._)("td",null,"调用函数来重定向到另一个URL。接受字符串(完整的URL)或Vue Router位置字符串或对象。")],-1),w=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" router"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" store "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 有事可做"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),f=(0,t._)("p",null,"启动文件也可以是异步的：",-1),x=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" router"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" store "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 有事可做"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"something"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),j=(0,t._)("p",null,[(0,t.Uk)("你可以用"),(0,t._)("code",{class:"doc-token"},"boot"),(0,t.Uk)("帮助器来包装返回的函数，以获得更好的IDE自动完成体验(通过Typescript)。")],-1),b=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" boot "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"boot"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" router"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" store "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 有事可做"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"something"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),v=(0,t.Uk)("注意我们使用的是"),V=(0,t.Uk)("ES6结构化赋值"),P=(0,t.Uk)(" 。只赋值你实际需要/使用的东西。"),R=(0,t._)("p",null,"你可能会问自己为什么我们需要导出一个函数。这实际上是可选的，但在你决定删除默认导出之前，你需要了解你什么时候需要它。",-1),S=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在默认出口之外。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"//  - 这里的代码会被立即执行。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"//  - 进口声明的好地方。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"//  - 无法访问路由器、Vuex商店，..."),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" router"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" store "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 这里的代码可以访问上面的Object param，连接到"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 与你的应用程序的其他部分。"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 这里的代码可以是异步的(使用async/await或者直接返回一个Promise)。"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 这里的代码会在应用程序生命周期中的正确时间由 Quasar CLI 执行。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//  - 我们有一个实例化的Router。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//  - 我们已经将可选的Vuex存储实例化了。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'//  - 我们有根应用程序的组件[Object param中的 "app "prop]Object与'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//      Quasar将对Vue应用程序进行实例化。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'//      ("new Vue(app)" -- 不要自己调用这个)。'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//  - ..."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),A=(0,t._)("div",{class:"doc-note doc-note--warning"},[(0,t._)("p",{class:"doc-note__title"},"WARNING"),(0,t._)("p",null,"请确保你了解启动文件解决了什么问题，什么时候使用它们是合适的，以避免在不需要它们的情况下应用它们。")],-1),C=(0,t._)("p",null,"启动文件满足了一个特殊的目的：它们在App的Vue根组件实例化之前**运行代码，同时允许你访问某些变量，如果你需要初始化一个库、干扰Vue Router、注入Vue原型或注入Vue应用的根实例，就需要这样做。",-1),I=(0,t._)("li",null,[(0,t.Uk)("你的Vue插件有安装说明，比如需要对其调用"),(0,t._)("code",{class:"doc-token"},"app.use()"),(0,t.Uk)("。")],-1),Q=(0,t.Uk)("你的Vue插件需要对添加到根实例的数据进行实例化 - 一个示例是"),L=(0,t.Uk)("vue-i18n"),q=(0,t.Uk)(" 。"),W=(0,t._)("li",null,[(0,t.Uk)("你想用"),(0,t._)("code",{class:"doc-token"},"app.mixin()"),(0,t.Uk)("添加一个全局混合器。")],-1),H=(0,t._)("li",null,[(0,t.Uk)("你想在Vue应用的globalProperties中添加一些东西以方便访问 - 一个示例是在你的Vue文件中方便地使用"),(0,t._)("code",{class:"doc-token"},"this.$axios"),(0,t.Uk)("(用于选项式 API)，而不是在每个文件中导入Axios。")],-1),$=(0,t._)("li",null,[(0,t.Uk)("你想干扰路由器 - 一个示例是使用"),(0,t._)("code",{class:"doc-token"},"router.beforeEach"),(0,t.Uk)("进行验证。")],-1),O=(0,t._)("li",null,[(0,t.Uk)("你想干扰Vuex存储实例 - 一个示例是使用"),(0,t._)("code",{class:"doc-token"},"vuex-router-sync"),(0,t.Uk)("包")],-1),z=(0,t._)("li",null,"配置库的各个方面 - 一个示例是用一个基本的URL创建Axios的实例；然后你可以把它注入Vue原型和/或导出它(所以你可以从你的应用程序的任何其他地方导入该实例)",-1),E=(0,t._)("ul",null,[(0,t._)("li",null,[(0,t.Uk)("对于像Lodash这样的普通JavaScript库，在使用前不需要任何初始化。例如，Lodash，只有当你想用它来注入Vue原型时，作为一个引导文件使用才有意义，比如可以在你的Vue文件中使用"),(0,t._)("code",{class:"doc-token"},"this.$_"),(0,t.Uk)("。")])],-1),T=(0,t._)("p",null,"第一步是使用 Quasar CLI 生成一个新的启动文件：",-1),N=(0,t._)("pre",{class:"doc-code language-bash"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,t.Uk)("$ quasar new boot "),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)("name"),(0,t._)("span",{class:"token operator"},">"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("--format ts"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n")])],-1),D=(0,t._)("p",null,[(0,t.Uk)("其中"),(0,t._)("code",{class:"doc-token"},"<name>"),(0,t.Uk)("应该用一个合适的名字来代替你的引导文件。")],-1),J=(0,t._)("p",null,[(0,t.Uk)("这个命令创建了一个新的文件。"),(0,t._)("code",{class:"doc-token"},"/src/boot/<name>.js"),(0,t.Uk)("，内容如下。")],-1),G=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在此输入一些东西"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},'// "async "是可选的!'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// 不需要的时候就去掉它"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"/* app, router, store */"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 有事可做"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),M=(0,t._)("p",null,"你也可以返回一个Promise。",-1),Z=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在此输入一些东西"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"/* app, router, store */"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"Promise"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" reject")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 做点什么"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),B=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,'如果你不需要的话，默认导出可以不在启动文件中出现。这些是你不需要访问 “应用程序”、“路由器”、"商店 "等的情况。')],-1),F=(0,t._)("p",null,"现在你可以根据你的引导文件的预期用途在该文件中添加内容。",-1),K=(0,t._)("blockquote",{class:"doc-note"},[(0,t._)("p",null,"不要忘记你的默认导出需要是一个函数。 然而，你可以有任意多的命名导出，如果引导文件为以后的使用暴露了一些东西。在这种情况下，你可以在你的应用程序中的任何地方导入任何这些命名的导出。")],-1),X=(0,t._)("p",null,[(0,t.Uk)("最后一步是告诉 Quasar 使用你的新引导文件。要做到这一点，你需要在"),(0,t._)("code",{class:"doc-token"},"/quasar.conf.js"),(0,t.Uk)("中添加这个文件")],-1),Y=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token literal-property property"},"boot"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 参考 /src/boot/<name>.js"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},"'<name>'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n")])],-1),nn=(0,t._)("p",null,"当建立一个SSR应用程序时，你可能希望一些启动文件只在服务器上或只在客户端运行，在这种情况下，你可以像下面这样做。",-1),sn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token literal-property property"},"boot"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"server"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// run on client-side only!"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'<name>'"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// references /src/boot/<name>.js"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"client"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// run on server-side only!"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'<name>'"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// references /src/boot/<name>.js"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n")])],-1),an=(0,t._)("p",null,[(0,t.Uk)("如果你想从node_modules中指定启动文件，你可以通过在路径前加上"),(0,t._)("code",{class:"doc-token"},"~"),(0,t.Uk)("(tilde)字符来实现。")],-1),tn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token literal-property property"},"boot"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 从一个npm包中启动文件"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token string"},"'~my-npm-package/some/file'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n")])],-1),on=(0,t._)("p",null,"如果你想让一个引导文件只为特定的构建类型注入到你的应用程序中。",-1),en=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token literal-property property"},"boot"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n  ctx"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("mode"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("electron "),(0,t._)("span",{class:"token operator"},"?"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'some-file'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"''"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n")])],-1),cn=(0,t._)("div",{class:"doc-note doc-note--warning"},[(0,t._)("p",{class:"doc-note__title"},"WARNING"),(0,t._)("p",null,"在重定向时请注意，因为你可能会配置应用程序进入无限重定向循环。")],-1),pn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" urlPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" redirect "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isAuthorized "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("isAuthorized "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("urlPath"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/login'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/login'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),kn=(0,t._)("p",null,[(0,t._)("code",{class:"doc-token"},"redirect()"),(0,t.Uk)("方法接受一个字符串(完整的URL)或一个Vue Router的位置字符串或对象。在SSR上，它可以接受第二个参数，它应该是一个数字，用于重定向浏览器的任何HTTP STATUS代码(3xx代码)。")],-1),ln=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 带有Vue Router位置的redirect()的示例。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/1'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Vue Router location as String"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/1'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Vue Router location as Object"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 用一个URL重定向()的示例。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'https://quasar.dev'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),un=(0,t._)("div",{class:"doc-note doc-note--warning"},[(0,t._)("p",{class:"doc-note__title"},"重要!"),(0,t._)("p",null,[(0,t.Uk)("Vue路由器位置（以字符串或对象形式）不是指URL路径（和哈希），而是指您定义的实际Vue路由器路由。 因此"),(0,t._)("strong",null,"不要向其中添加publicPath"),(0,t.Uk)("，如果您使用的是Vue路由器哈希模式，则不要向其中添加哈希。")]),(0,t._)("p",null,[(0,t._)("br"),(0,t.Uk)("假设我们定义了这个Vue路由器路由："),(0,t._)("br"),(0,t._)("br")]),(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/one'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"component"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" PageOne\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("p",null,[(0,t._)("br"),(0,t.Uk)("然后"),(0,t._)("strong",null,"不管我们的publicPath"),(0,t.Uk)("如何，我们都可以像这样调用"),(0,t._)("code",{class:"doc-token"},"redirect()"),(0,t.Uk)("："),(0,t._)("br"),(0,t._)("br")]),(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// publicPath: /wiki; vueRouterMode: history"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/one'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/wiki/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// WRONG!"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// publicPath: /wiki; vueRouterMode: hash"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/one'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/wiki/#/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// WRONG!"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// no publicPath; vueRouterMode: hash"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"path"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/one'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// good way"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"redirect"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/#/one'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// WRONG!"),(0,t.Uk)("\n")])])],-1),_n=(0,t._)("p",null,'正如在前面的章节中提到的，默认的引导文件的输出可以返回一个Promise。如果这个Promise被一个包含 "url "属性的对象拒绝，那么 Quasar CLI 将把用户重定向到那个URL。',-1),rn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" urlPath "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"Promise"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" reject")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isAuthorized "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("isAuthorized "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("urlPath"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/login'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},'// 这里的 "url "参数是同一类型的'),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},'// 至于上面的 "重定向 "问题'),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token function"},"reject"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"url"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/login'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),dn=(0,t._)("p",null,"或一个更简单的等价物：",-1),Un=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" isAuthorized "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("isAuthorized "),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"!"),(0,t.Uk)("urlPath"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"startsWith"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/login'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" Promise"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"reject"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"url"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'/login'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),mn=(0,t._)("p",null,"为了更好地理解启动文件的工作原理和作用，你需要了解你的网站/应用程序是如何启动的。",-1),gn=(0,t._)("ol",null,[(0,t._)("li",null,"Quasar被初始化(组件、指令、插件、Quasar i18n、 Quasar 图标集)"),(0,t._)("li",null,"Quasar额外功能被导入(Roboto字体–如果使用的话，图标，动画，…)。"),(0,t._)("li",null,"Quasar CSS和你的应用程序的全局CSS被导入。"),(0,t._)("li",null,"App.vue被加载(尚未使用)。"),(0,t._)("li",null,"商店被导入(如果在 src/store 中使用 Vuex 商店)。"),(0,t._)("li",null,"路由器已被导入(在 src/router 中)。"),(0,t._)("li",null,"导入启动文件"),(0,t._)("li",null,"路由器默认导出功能被执行"),(0,t._)("li",null,"引导文件得到其默认导出功能的执行"),(0,t._)("li",null,"(如果在Electron模式下)Electron被导入并注入到Vue原型中。"),(0,t._)("li",null,'(如果在 Cordova 模式下)监听 "deviceready "事件，然后才继续以下步骤'),(0,t._)("li",null,"用根组件实例化Vue，并将其附加到DOM上")],-1),yn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" boot "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" axios "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'axios'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"create"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"baseURL"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'https://api.example.com'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"boot"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 通过this.$axios和this.$api在Vue文件中使用(选项式 API)。"),(0,t.Uk)("\n\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$axios "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios\n  "),(0,t._)("span",{class:"token comment"},"// ^ ^ 这将允许你使用this.$axios(用于Vue Options API形式)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//       所以你不一定要在每个vue文件中导入axios。"),(0,t.Uk)("\n\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" api\n  "),(0,t._)("span",{class:"token comment"},"// ^ ^ 这将允许你使用this.$api(用于Vue选项式 API形式)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//       所以你可以轻松地对你的应用程序的API执行请求"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),hn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" createI18n "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'vue-i18n'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" messages "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'src/i18n'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 创建I18n实例"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" i18n "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"createI18n"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"locale"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'en-US'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    messages\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 告诉应用程序使用I18n实例"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"use"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("i18n"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),wn=(0,t._)("p",null,"一些启动文件可能需要干扰Vue Router的配置。",-1),fn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"boot"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" router"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" store "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  router"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"beforeEach"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("to"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" from"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" next")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 现在你需要在这里添加你的认证逻辑，比如调用一个API端点"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),xn=(0,t._)("p",null,"有时你想在你不能访问根Vue实例的文件中访问你在引导文件中配置的数据。",-1),jn=(0,t._)("p",null,"幸运的是，因为引导文件只是普通的JavaScript文件，你可以在你的引导文件中添加任意多的命名导出。",-1),bn=(0,t._)("p",null,"让我们以Axios为例。有时你想在你的JavaScript文件中访问你的Axios实例，但你不能访问根Vue实例。为了解决这个问题，你可以在你的启动文件中导出Axios实例，并将其导入其他地方。",-1),vn=(0,t._)("p",null,"考虑下面这个axios的引导文件。",-1),Vn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// axios启动文件(src/boot/axios.js)。"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" axios "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'axios'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 我们创建自己的axios实例并设置一个自定义的基本URL。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// 注意，如果我们不在这里设置任何配置，我们就不需要"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// 一个命名的导出，因为我们可以直接 \"从'axios'导入axios\"。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"create"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"baseURL"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'https://api.example.com'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 通过this.$axios和this.$api在Vue文件中使用。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// (仅在Vue Options API形式下)"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$axios "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" api\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 在这里，我们定义了一个命名的出口"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// 我们以后可以在.js文件中使用。"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),Pn=(0,t._)("p",null,"在任何JavaScript文件中，你都能像这样导入axios实例。",-1),Rn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 我们从src/boot/axios.js中导入其中一个命名的导出项"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'boot/axios'"),(0,t.Uk)("\n")])],-1),Sn=(0,t.Uk)("关于语法的进一步阅读：[ES6 import](https://developer.mozilla .org/en-US/docs/web/javascript/reference/statements/import), "),An=(0,t.Uk)("ES6 export"),Cn=(0,t.Uk)(" .");function In(n,s,a,In,Qn,Ln){const qn=(0,t.up)("doc-link"),Wn=(0,t.up)("q-markup-table"),Hn=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(Hn,{"meta-title":In.metaTitle,title:"启动文件",related:In.related,nav:In.nav,toc:In.toc,"meta-desc":In.metaDesc},{default:(0,t.w5)((()=>[o,e,c,p,k,(0,t._)("h2",{id:"启动文件的剖析",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=n=>In.copyHeading("启动文件的剖析"))},"启动文件的剖析"),l,(0,t.Wm)(Wn,{"wrap-cells":!0,flat:!0,bordered:!0,style:{width:"fit-content","max-width":"100%"}},{default:(0,t.w5)((()=>[u,(0,t._)("tbody",null,[_,r,i,(0,t._)("tr",null,[d,(0,t._)("td",null,[U,(0,t.Wm)(qn,{to:"/quasar-cli/developing-ssr/ssr-context"},{default:(0,t.w5)((()=>[m])),_:1})])]),g,y,h])])),_:1}),w,f,x,j,b,(0,t._)("p",null,[v,(0,t.Wm)(qn,{to:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"},{default:(0,t.w5)((()=>[V])),_:1}),P]),R,S,(0,t._)("h2",{id:"何时使用引导文件",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=n=>In.copyHeading("何时使用引导文件"))},"何时使用引导文件"),A,C,(0,t._)("h3",{id:"适当使用引导文件的示例",class:"doc-heading doc-h3",onClick:s[2]||(s[2]=n=>In.copyHeading("适当使用引导文件的示例"))},"适当使用引导文件的示例"),(0,t._)("ul",null,[I,(0,t._)("li",null,[Q,(0,t.Wm)(qn,{to:"https://github.com/kazupon/vue-i18n/"},{default:(0,t.w5)((()=>[L])),_:1}),q]),W,H,$,O,z]),(0,t._)("h3",{id:"不需要使用引导文件的示例",class:"doc-heading doc-h3",onClick:s[3]||(s[3]=n=>In.copyHeading("不需要使用引导文件的示例"))},"不需要使用引导文件的示例"),E,(0,t._)("h2",{id:"启动文件的用法",class:"doc-heading doc-h2",onClick:s[4]||(s[4]=n=>In.copyHeading("启动文件的用法"))},"启动文件的用法"),T,N,D,J,G,M,Z,B,F,K,X,Y,nn,sn,an,tn,on,en,(0,t._)("h3",{id:"重定向到另一个页面",class:"doc-heading doc-h3",onClick:s[5]||(s[5]=n=>In.copyHeading("重定向到另一个页面"))},"重定向到另一个页面"),cn,pn,kn,ln,un,_n,rn,dn,Un,(0,t._)("h3",{id:"quasar应用程序流程",class:"doc-heading doc-h3",onClick:s[6]||(s[6]=n=>In.copyHeading("quasar应用程序流程"))},"Quasar应用程序流程"),mn,gn,(0,t._)("h2",{id:"启动文件的示例",class:"doc-heading doc-h2",onClick:s[7]||(s[7]=n=>In.copyHeading("启动文件的示例"))},"启动文件的示例"),(0,t._)("h3",{id:"axios",class:"doc-heading doc-h3",onClick:s[8]||(s[8]=n=>In.copyHeading("axios"))},"Axios"),yn,(0,t._)("h3",{id:"vue-i18n",class:"doc-heading doc-h3",onClick:s[9]||(s[9]=n=>In.copyHeading("vue-i18n"))},"vue-i18n"),hn,(0,t._)("h3",{id:"路由器认证",class:"doc-heading doc-h3",onClick:s[10]||(s[10]=n=>In.copyHeading("路由器认证"))},"路由器认证"),wn,fn,(0,t._)("h2",{id:"从引导文件中访问数据",class:"doc-heading doc-h2",onClick:s[11]||(s[11]=n=>In.copyHeading("从引导文件中访问数据"))},"从引导文件中访问数据"),xn,jn,bn,vn,Vn,Pn,Rn,(0,t._)("p",null,[Sn,(0,t.Wm)(qn,{to:"https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export"},{default:(0,t.w5)((()=>[An])),_:1}),Cn])])),_:1},8,["meta-title","related","nav","toc","meta-desc"])}var Qn=a(17536);const Ln={name:"DocMarkdownPage",setup(){return{metaTitle:"启动文件",metaDesc:"在 Quasar 应用程序中管理你的启动代码。",related:[{name:"quasar.conf.js",category:"Quasar CLI",path:"/quasar-cli/quasar-conf-js"}],nav:[{name:"处理静态资源",category:"Quasar CLI",path:"/quasar-cli/handling-assets",dir:"left"},{name:"预取功能",category:"Quasar CLI",path:"/quasar-cli/prefetch-feature",dir:"right"}],toc:[{id:"启动文件的剖析",title:"启动文件的剖析"},{id:"何时使用引导文件",title:"何时使用引导文件"},{id:"适当使用引导文件的示例",title:"适当使用引导文件的示例",sub:!0},{id:"不需要使用引导文件的示例",title:"不需要使用引导文件的示例",sub:!0},{id:"启动文件的用法",title:"启动文件的用法"},{id:"重定向到另一个页面",title:"重定向到另一个页面",sub:!0},{id:"quasar应用程序流程",title:"Quasar应用程序流程",sub:!0},{id:"启动文件的示例",title:"启动文件的示例"},{id:"axios",title:"Axios",sub:!0},{id:"vue-i18n",title:"vue-i18n",sub:!0},{id:"路由器认证",title:"路由器认证",sub:!0},{id:"从引导文件中访问数据",title:"从引导文件中访问数据"}],copyHeading:Qn.Et}}};var qn=a(74260);const Wn=(0,qn.Z)(Ln,[["render",In]]),Hn=Wn}}]);