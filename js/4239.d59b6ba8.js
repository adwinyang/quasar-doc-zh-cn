"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[4239],{4239:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Y});var t=a(83673);const e=(0,t._)("div",{class:"doc-note doc-note--danger"},[(0,t._)("p",{class:"doc-note__title"},"WARNING"),(0,t._)("ul",null,[(0,t._)("li",null,"You will need to be running on “@quasar/app” v3.2+ to be able to use this feature."),(0,t._)("li",null,"This file is used ONLY for your production build and NOT while developing.")])],-1),o=(0,t._)("p",null,[(0,t.Uk)("Notice that your generated "),(0,t._)("code",{class:"doc-token"},"/src-ssr"),(0,t.Uk)(" contains a file named "),(0,t._)("code",{class:"doc-token"},"production-export.js"),(0,t.Uk)(". This file defines how your SSR webserver is served. You can start listening to a port or provide a handler for your serverless infrastructure to use. It’s up to you.")],-1),c=(0,t._)("blockquote",{class:"doc-note"},[(0,t._)("p",null,[(0,t.Uk)("Whatever this function returns (if anything) will be exported from your built "),(0,t._)("code",{class:"doc-token"},"dist/ssr/index.js"),(0,t.Uk)(".")])],-1),p=(0,t._)("p",null,[(0,t.Uk)("The "),(0,t._)("code",{class:"doc-token"},"/src-ssr/production-export.[js|ts]"),(0,t.Uk)(" file is a simple JavaScript file which boots up your SSR webserver and defines what your webserver exports (if exporting anything).")],-1),r=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// import something here (serverless packages?)"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// something to do with the server "app"'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// return whatever you want your webserver to export (handler for serverless function?)"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),k=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,[(0,t.Uk)("Remember that whatever this function returns (if anything) will be exported from your built "),(0,t._)("code",{class:"doc-token"},"dist/ssr/index.js"),(0,t.Uk)(".")])],-1),l=(0,t._)("p",null,[(0,t.Uk)("You can wrap the returned function with "),(0,t._)("code",{class:"doc-token"},"ssrProductionExport"),(0,t.Uk)(" helper to get a better IDE autocomplete experience (Quasar v2.3.1+ required):")],-1),u=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// something to do with the server "app"'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// return whatever you want your webserver to export (handler for serverless?)"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),i=(0,t._)("p",null,"We are referring here to the Object received as parameter by the default exported function of the production-export file.",-1),_=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n")])],-1),d=(0,t._)("p",null,"Detailing the Object:",-1),U=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("     "),(0,t._)("span",{class:"token comment"},"// Expressjs app instance"),(0,t.Uk)("\n\n  port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("    "),(0,t._)("span",{class:"token comment"},"// process.env.PORT or quasar.conf > ssr > prodPort"),(0,t.Uk)("\n\n  isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Function to call returning a Promise"),(0,t.Uk)("\n           "),(0,t._)("span",{class:"token comment"},"// when app is ready to serve clients"),(0,t.Uk)("\n\n  ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Prebuilt app handler if your serverless service"),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// doesn't require a specific way to provide it."),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// Form: ssrHandler (req, res, next)"),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// Tip: it uses isReady() under the hood already"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// all of the following are the same as"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// for the SSR middlewares (check its docs page);"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// normally you don't need these here"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// (use a real SSR middleware instead)"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"resolve"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"urlPath"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("path"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"root"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("arg1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" arg2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"public"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("arg1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" arg2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"folders"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    root"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("     "),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"public"),(0,t.Uk)("    "),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"render"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrContext"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"serve"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"static"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("path"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" opts"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"error"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" err"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" req"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" res "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),m=(0,t._)("p",null,[(0,t.Uk)("The following is the default content of "),(0,t._)("code",{class:"doc-token"},"/src-ssr/production-export.js"),(0,t.Uk)(" when you add SSR support in a Quasar CLI project:")],-1),h=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"isReady"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"listen"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'Server listening at port '"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),g={class:"doc-note doc-note--warning"},y=(0,t._)("p",{class:"doc-note__title"},"WARNING",-1),f=(0,t._)("li",null,"If you import anything from node_modules, then make sure that the package is specified in package.json > “dependencies” and NOT in “devDependencies”.",-1),w=(0,t.Uk)("This is usually not the place to add middlewares (but you can do it). Add middlewares by using the "),v=(0,t.Uk)("SSR Middlewares"),x=(0,t.Uk)(" instead. You can configure SSR Middlewares to run only for dev or only for production too."),b=(0,t._)("p",null,"This is the default option that you get when adding SSR support in a Quasar CLI project. It starts listening on the configured port (process.env.PORT or quasar.conf > ssr > prodPort).",-1),j=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// we wait for app to be ready (including running all SSR middlewares)"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"isReady"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// then we start listening on a port"),(0,t.Uk)("\n    app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"listen"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// we're ready to serve clients"),(0,t.Uk)("\n      console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'Server listening at port '"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),S=(0,t._)("p",null,"If you have a serverless infrastructure, then you generally need to export a handler instead of starting to listen to a port.",-1),P=(0,t._)("p",null,"Say that your serverless service requires you to:",-1),R=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t.Uk)("module"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("handler "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" __your_handler__\n")])],-1),q=(0,t._)("p",null,"Then what you’d need to do is:",-1),H=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// "ssrHandler" is a prebuilt handler which already'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// waits for all the middlewares to run before serving clients"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// whatever you return here is equivalent to module.exports.<key> = <value>"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),E=(0,t._)("p",null,[(0,t.Uk)("Please note that the provided "),(0,t._)("code",{class:"doc-token"},"ssrHandler"),(0,t.Uk)(" is a Function of form: "),(0,t._)("code",{class:"doc-token"},"(req, res, next) => void"),(0,t.Uk)(". Should you require to export a handler of form "),(0,t._)("code",{class:"doc-token"},"(event, context, callback) => void"),(0,t.Uk)(" then you will most likely want to use the "),(0,t._)("code",{class:"doc-token"},"serverless-http"),(0,t.Uk)(" package (see below).")],-1),T=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" serverless "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'serverless-http'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"serverless"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrHandler"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),C=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"*"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"as"),(0,t.Uk)(" functions "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'firebase-functions'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" functions"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("https"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"onRequest"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrHandler"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1);function I(n,s,a,I,N,D){const O=(0,t.up)("doc-link"),W=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(W,{"meta-title":I.metaTitle,title:"SSR Production Export","meta-desc":I.metaDesc},{default:(0,t.w5)((()=>[e,o,c,(0,t._)("h2",{id:"anatomy",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=n=>I.copyHeading("anatomy"))},"Anatomy"),p,r,k,l,u,(0,t._)("h2",{id:"parameters",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=n=>I.copyHeading("parameters"))},"Parameters"),i,_,d,U,(0,t._)("h2",{id:"default-content",class:"doc-heading doc-h2",onClick:s[2]||(s[2]=n=>I.copyHeading("default-content"))},"Default content"),m,h,(0,t._)("h2",{id:"usage",class:"doc-heading doc-h2",onClick:s[3]||(s[3]=n=>I.copyHeading("usage"))},"Usage"),(0,t._)("div",g,[y,(0,t._)("ul",null,[f,(0,t._)("li",null,[w,(0,t.Wm)(O,{to:"/quasar-cli/developing-ssr/ssr-middleware"},{default:(0,t.w5)((()=>[v])),_:1}),x])])]),(0,t._)("h3",{id:"listen-on-a-port",class:"doc-heading doc-h3",onClick:s[4]||(s[4]=n=>I.copyHeading("listen-on-a-port"))},"Listen on a port"),b,j,(0,t._)("h3",{id:"serverless",class:"doc-heading doc-h3",onClick:s[5]||(s[5]=n=>I.copyHeading("serverless"))},"Serverless"),S,P,R,q,H,E,(0,t._)("h4",{id:"example-serverless-http",class:"doc-heading doc-h4",onClick:s[6]||(s[6]=n=>I.copyHeading("example-serverless-http"))},"Example: serverless-http"),T,(0,t._)("h4",{id:"example-firebase-function",class:"doc-heading doc-h4",onClick:s[7]||(s[7]=n=>I.copyHeading("example-firebase-function"))},"Example: Firebase function"),C])),_:1},8,["meta-title","meta-desc"])}var N=a(17536);const D={name:"DocMarkdownPage",setup(){return{metaTitle:"SSR Production Export",metaDesc:"Configuring the Quasar SSR webserver for different platforms, including a serverless architecture.",copyHeading:N.Et}}};var O=a(74260);const W=(0,O.Z)(D,[["render",I]]),Y=W}}]);