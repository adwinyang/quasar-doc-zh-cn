"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[30310],{30310:(n,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(83673);const o=(0,t._)("p",null,"你可能希望你的应用程序只在开发模式下才允许访问浏览器的开发工具。在生产版本中(没有启用调试功能)，你会希望禁用这一行为。",-1),e=(0,t._)("p",null,"既然如此，为什么不在开发模式时默认打开 devtools 呢。",-1),c=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"//  Electron -main.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"createWindow"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mainWindow "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"BrowserWindow"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"..."),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("process"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("env"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token constant"},"DEBUGGING"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 如果在DEV或Production上，并启用了调试功能"),(0,t.Uk)("\n    mainWindow"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("webContents"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"openDevTools"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 我们在生产中，无法访问devtools。"),(0,t.Uk)("\n    mainWindow"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("webContents"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"on"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'devtools-opened'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      mainWindow"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("webContents"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"closeDevTools"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),p=(0,t._)("p",null,"当你在开发中运行你的应用程序时，你可能已经注意到了来自主进程的信息，其中提到了一个远程调试器。自从electron@^1.7.2发布后，通过Inspect API的远程调试被引入，可以通过用Google Chrome浏览器打开所提供的链接，或者通过其他可以使用默认端口5858远程连接到进程的调试器，如Visual Studio Code，轻松访问。",-1),k=(0,t._)("pre",{class:"doc-code language-bash"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},"Debugger listening on ws://127.0.0.1:5858/b285586a-6091-4c41-b6ea-0d389e6f9c93\nFor help, see: https://nodejs.org/en/docs/inspector\n")],-1),l=(0,t._)("p",null,[(0,t.Uk)("一些Chrome DevTools扩展程序在 Electron 6以上的Windows黑暗主题下不能正常运行。Quasar在默认的"),(0,t._)("code",{class:"doc-token"},"electron-main.js"),(0,t.Uk)("中提供了一个变通方法，在启动应用程序之前删除"),(0,t._)("code",{class:"doc-token"},"DevTools Extensions"),(0,t.Uk)("。")],-1),u=(0,t._)("pre",{class:"doc-code language-javascript"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-javascript"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" BrowserWindow"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" nativeTheme "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'electron'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"if"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("process"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("platform "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'win32'"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"&&"),(0,t.Uk)(" nativeTheme"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("shouldUseDarkColors "),(0,t._)("span",{class:"token operator"},"==="),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"true"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"require"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'fs'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"unlinkSync"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token function"},"require"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'path'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"join"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getPath"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'userData'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'DevTools Extensions'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"catch"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("_"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),i=(0,t.Uk)("更多细节请关注 "),_=(0,t.Uk)("electron bug report"),r=(0,t.Uk)(" 。");function d(n,s,a,d,U,g){const w=(0,t.up)("doc-link"),m=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(m,{"meta-title":d.metaTitle,title:"故障排除和提示",nav:d.nav,toc:d.toc,"meta-desc":d.metaDesc},{default:(0,t.w5)((()=>[(0,t._)("h2",{id:"浏览器开发工具",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=n=>d.copyHeading("浏览器开发工具"))},"浏览器开发工具"),o,e,c,(0,t._)("h2",{id:"调试主进程",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=n=>d.copyHeading("调试主进程"))},"调试主进程"),p,k,(0,t._)("h2",{id:"应用程序在windows上不能以黑暗主题打开",class:"doc-heading doc-h2",onClick:s[2]||(s[2]=n=>d.copyHeading("应用程序在windows上不能以黑暗主题打开"))},"应用程序在Windows上不能以黑暗主题打开"),l,u,(0,t._)("p",null,[i,(0,t.Wm)(w,{to:"https://github.com/electron/electron/issues/19468"},{default:(0,t.w5)((()=>[_])),_:1}),r])])),_:1},8,["meta-title","nav","toc","meta-desc"])}var U=a(17536);const g={name:"DocMarkdownPage",setup(){return{metaTitle:"故障排除和提示",metaDesc:"使用 Electron 的 Quasar 桌面应用程序的技巧和窍门。",nav:[{name:"Electron 安全问题",category:"开发 Electron 应用程序",path:"/quasar-cli/developing-electron-apps/electron-security-concerns",dir:"left"},{name:"简介",category:"开发浏览器扩展",path:"/quasar-cli/developing-browser-extensions/introduction",dir:"right"}],toc:[{id:"浏览器开发工具",title:"浏览器开发工具"},{id:"调试主进程",title:"调试主进程"},{id:"应用程序在windows上不能以黑暗主题打开",title:"应用程序在Windows上不能以黑暗主题打开"}],copyHeading:U.Et}}};var w=a(74260);const m=(0,w.Z)(g,[["render",d]]),h=m}}]);