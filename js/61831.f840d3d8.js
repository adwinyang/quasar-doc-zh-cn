"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[61831],{61831:(n,s,a)=>{a.r(s),a.d(s,{default:()=>qn});var t=a(83673);const o=(0,t._)("p",null,[(0,t.Uk)("将PWA模式添加到 Quasar 项目中意味着将创建一个新的文件夹。"),(0,t._)("code",{class:"doc-token"},"/src-pwa"),(0,t.Uk)("，其中包含PWA特定的文件。")],-1),e=(0,t._)("pre",{class:"doc-code language-bash"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,t._)("span",{class:"token builtin class-name"},"."),(0,t.Uk)("\n└── src-pwa/\n          ├── register-service-worker.js  "),(0,t._)("span",{class:"token comment"},"#（或.ts）应用程序代码*管理*服务人员"),(0,t.Uk)("\n    └── custom-service-worker.js    "),(0,t._)("span",{class:"token comment"},"# （或.ts）可选的自定义服务辅助文件"),(0,t.Uk)("\n                                    "),(0,t._)("span",{class:"token comment"},"#     （仅限 InjectManifest 模式）"),(0,t.Uk)("\n")])],-1),p=(0,t._)("p",null,"你可以自由编辑这些文件。注意几件事：",-1),c=(0,t._)("li",null,[(0,t._)("code",{class:"doc-token"},"register-service-worker.[js|ts]"),(0,t.Uk)("被自动导入你的应用程序(就像其他/src文件)。它注册了服务工作者(由Workbox创建的或你自定义的，取决于workbox插件模式 – quasar.conf.js > pwa > workboxPluginMode)，你可以监听服务工作者的事件。你可以使用ES6代码。")],-1),l=(0,t._)("li",null,[(0,t._)("code",{class:"doc-token"},"custom-service-worker.[js|ts]"),(0,t.Uk)("只有在workbox插件模式设置为 “InjectManifest”(quasar.conf.js > pwa > workboxPluginMode: ‘InjectManifest’)时，才会成为你的服务工作者文件。否则，Workbox将为你创建一个服务工作文件。")],-1),r=(0,t.Uk)("只在生产构建中运行"),k=(0,t.Uk)("Lighthouse"),i=(0,t.Uk)(" 测试是有意义的。"),_={class:"doc-note doc-note--tip"},u=(0,t._)("p",{class:"doc-note__title"},"TIP",-1),U=(0,t.Uk)("阅读更多关于"),d=(0,t._)("code",{class:"doc-token"},"注册-服务-工人。[js|ts]",-1),g=(0,t.Uk)("以及如何与服务工人互动的信息，请参见"),m=(0,t.Uk)("处理服务工作者"),y=(0,t.Uk)(" 文档页面。"),w=(0,t._)("p",null,"在这里你可以配置Workbox的行为，也可以对manifest.json进行调整。",-1),b=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token literal-property property"},"pwa"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxPluginMode: 'InjectManifest',"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxOptions: {},"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"manifest"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 使用这个或metaVariablesFn，但不能同时使用。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 用来注入特定PWA的变量"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 元标签(以下是默认值)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"metaVariables"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleMobileWebAppCapable"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'yes'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleMobileWebAppStatusBarStyle"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'default'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleTouchIcon120"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/apple-icon-120x120.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleTouchIcon180"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/apple-icon-180x180.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleTouchIcon152"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/apple-icon-152x152.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleTouchIcon167"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/apple-icon-167x167.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"appleSafariPinnedTab"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/safari-pinned-tab.svg'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"msapplicationTileImage"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/ms-icon-144x144.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"msapplicationTileColor"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'#000000'"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 可选的，覆盖上面的metaVariables。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 使用这个或metaVariables，但不能同时使用。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"metaVariablesFn"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"manifest"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// ..."),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// 这个条目将产生。"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},'// <meta name="theme-color" content="ff0">。'),(0,t.Uk)("\n\n        "),(0,t._)("span",{class:"token literal-property property"},"tagName"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'meta'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token literal-property property"},"attributes"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'theme-color'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"content"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'#ff0'"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// 这个条目将产生。"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},'// <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png">。'),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token comment"},"// 参考资料 /public/icons/icon-180.png"),(0,t.Uk)("\n\n        "),(0,t._)("span",{class:"token literal-property property"},"tagName"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'link'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token literal-property property"},"attributes"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"rel"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'apple-touch-icon'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"sizes"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'180x180'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"href"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-180.png'"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token literal-property property"},"closeTag"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"false"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// this is optional;"),(0,t.Uk)("\n                        "),(0,t._)("span",{class:"token comment"},"// 指定标签是否还需要一个明确的结束标签。"),(0,t.Uk)("\n                        "),(0,t._)("span",{class:"token comment"},"// 默认情况下，它是布尔型假的"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 可选的；webpack的配置对象"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 自定义服务工作者 ONLY (/src-pwa/custom-service-worker. [js|ts] )"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 如果在InjectManifest模式下使用工作箱"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"extendWebpackCustomSW"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"cfg"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 直接改变cfg的props。"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 不需要归还任何东西"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// optional; 等同于extendWebpackCustomSW()，但使用webpack-chain。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 仅用于自定义服务工作者(/src-pwa/custom-service-worker.[js|ts])。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 如果在InjectManifest模式下使用工作箱"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"chainWebpackCustomSW"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"chain"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 链是一个webpack-chain实例"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 的Webpack配置"),(0,t.Uk)("\n\n    "),(0,t._)("span",{class:"token comment"},"// 示例："),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// chain.plugin('eslint-webpack-plugin')"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"//   .use(ESLintPlugin, [{ extensions: [ 'js' ] }] )"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),f=(0,t.Uk)("更多信息："),h=(0,t.Uk)("Workbox Webpack 插件"),W=(0,t.Uk)(", "),j=(0,t.Uk)("Workbox"),x=(0,t.Uk)("."),v=(0,t._)("p",null,[(0,t._)("code",{class:"doc-token"},"metaVariables"),(0,t.Uk)("对象仅由 Quasar 本身使用(对Workbox没有意义)，用于将一些PWA元标签的特定值属性注入到渲染的HTML页面。例如："),(0,t._)("code",{class:"doc-token"},'<meta name="apple-mobile-web-app-status-bar-style">'),(0,t.Uk)("将有价值属性分配给"),(0,t._)("code",{class:"doc-token"},"metaVariables.appleMobileWebAppStatusBarStyle"),(0,t.Uk)("的内容。")],-1),I=(0,t._)("p",null,[(0,t.Uk)("你可以使用metaVariables的替代品："),(0,t._)("code",{class:"doc-token"},"metaVariablesFn(manifest)"),(0,t.Uk)("，它可以返回一个对象数组(见上面代码中的形式)。如果你将此函数配置为不返回数组或返回空数组，那么Quasar App CLI将理解为不添加任何标签–因此你可以直接在"),(0,t._)("code",{class:"doc-token"},"/src/index.template.html"),(0,t.Uk)("中手动添加你的自定义标签。")],-1),M=(0,t._)("p",null,[(0,t.Uk)("有两种工作箱操作模式。"),(0,t._)("strong",null,"GenerateSW"),(0,t.Uk)("(默认)和"),(0,t._)("strong",null,"InjectManifest"),(0,t.Uk)("。第一种会根据 quasar.conf.js > pwa > workboxOptions(如果有的话)自动生成一个服务工作者，而第二种模式允许你编写自己的服务工作者文件。")],-1),P=(0,t._)("p",null,"设置你想使用的模式是通过quasar.conf.js完成的：",-1),q=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// quasar.conf.js"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token literal-property property"},"pwa"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxPluginMode: 'InjectManifest',"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxOptions: { ... }"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),A={class:"doc-note doc-note--danger"},C=(0,t._)("p",{class:"doc-note__title"},"WARNING",-1),S=(0,t.Uk)("确保你的"),T=(0,t._)("code",{class:"doc-token"},"workboxOptions",-1),Q=(0,t.Uk)("与你选择的Workbox模式相匹配，否则workbox webpack插件可能会"),H=(0,t.Uk)("停止你的应用程序的编译"),L=(0,t.Uk)(" 。"),N=(0,t._)("p",null,"什么时候使用GenerateSW:",-1),G=(0,t._)("ul",null,[(0,t._)("li",null,"你想预存文件。"),(0,t._)("li",null,"你有简单的运行时配置需求(例如，配置允许你定义路由和策略)。")],-1),O=(0,t._)("p",null,"什么时候不使用GenerateSW。",-1),V=(0,t._)("ul",null,[(0,t._)("li",null,"你想使用其他服务工作者的功能(如网络推送)。"),(0,t._)("li",null,"你想导入额外的脚本或添加额外的逻辑。")],-1),z={class:"doc-note doc-note--tip"},R=(0,t._)("p",{class:"doc-note__title"},"TIP",-1),F=(0,t.Uk)("请在"),E=(0,t.Uk)("工作箱网站"),B=(0,t.Uk)(" 上查看该模式的可用工作箱选项。"),D=(0,t._)("p",null,"何时使用 InjectManifest：",-1),Y=(0,t._)("ul",null,[(0,t._)("li",null,"你想对你的服务工作者有更多的控制。"),(0,t._)("li",null,"你想预先缓存文件。"),(0,t._)("li",null,"你在路由方面有更复杂的需求。"),(0,t._)("li",null,"你想将你的服务工作者与其他API一起使用(例如Web Push)。")],-1),Z=(0,t._)("p",null,"什么时候不使用 InjectManifest：",-1),J=(0,t._)("ul",null,[(0,t._)("li",null,"你希望以最简单的方式向你的网站添加服务工作者。")],-1),K={class:"doc-note doc-note--tip"},X=(0,t._)("p",{class:"doc-note__title"},"TIPS",-1),$=(0,t._)("li",null,[(0,t.Uk)("如果你想使用这种模式，你将不得不自己编写服务工作者("),(0,t._)("code",{class:"doc-token"},"/src-pwa/custom-service-worker.[js|ts]"),(0,t.Uk)(")文件。")],-1),nn=(0,t.Uk)("请在"),sn=(0,t.Uk)("Workbox网站"),an=(0,t.Uk)(" 上查看该模式的可用workboxOptions。"),tn=(0,t._)("p",null,[(0,t.Uk)("下面的片段是自定义服务工作者的默认代码("),(0,t._)("code",{class:"doc-token"},"/src-pwa/custom-service-worker. [js|ts]"),(0,t.Uk)(")：")],-1),on=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" precacheAndRoute "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'workbox-precaching'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 与预存储注射一起使用"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"precacheAndRoute"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("self"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("__WB_MANIFEST"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),en=(0,t._)("p",null,[(0,t.Uk)("Manifest 文件是由 Quasar CLI 生成的，它有一个默认的配置。但是你可以通过"),(0,t._)("code",{class:"doc-token"},"/quasar.conf.js"),(0,t.Uk)("来调整这个配置：")],-1),pn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// quasar.conf.js"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token literal-property property"},"pwa"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxPluginMode: 'InjectManifest',"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// workboxOptions: {},"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"manifest"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Quasar Play'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"short_name"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"' Quasar -Play'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"description"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Quasar Framework Showcase'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"icons"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'src'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-128x128.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'sizes'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'128x128'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'type'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'image/png'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'src'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-192x192.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'sizes'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'192x192'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'type'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'image/png'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'src'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-256x256.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'sizes'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'256x256'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'type'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'image/png'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'src'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-384x384.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'sizes'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'384x384'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'type'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'image/png'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'src'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'icons/icon-512x512.png'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'sizes'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'512x512'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token string-property property"},"'type'"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'image/png'"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"]"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"display"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'standalone'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"orientation"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'portrait'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"background_color"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'#ffffff'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"theme_color"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'#027be3'"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),cn=(0,t.Uk)("在深入研究之前，请阅读有关"),ln=(0,t.Uk)("清单配置"),rn=(0,t.Uk)(" 。"),kn=(0,t._)("div",{class:"doc-note doc-note--warning"},[(0,t._)("p",{class:"doc-note__title"},"WARNING"),(0,t._)("p",null,[(0,t.Uk)("请注意，您不需要编辑您的index.html文件(由"),(0,t._)("code",{class:"doc-token"},"/src/index.template.html"),(0,t.Uk)("生成)来链接到清单文件。 Quasar CLI 将为您嵌入正确的东西。")])],-1),_n=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,[(0,t.Uk)("如果你的PWA是在基本认证之后或需要授权头，请将quasar.conf.js > pwa > useCredentials设置为true，以便在manifest.json元标签上包括"),(0,t._)("code",{class:"doc-token"},'crossorigin="use-credentials"'),(0,t.Uk)("。")])],-1),un=(0,t.Uk)("更多信息："),Un=(0,t.Uk)("PWA检查表"),dn={class:"doc-note doc-note--danger"},gn=(0,t._)("p",{class:"doc-note__title"},"WARNING",-1),mn=(0,t.Uk)("不要在你的开发构建中运行"),yn=(0,t.Uk)("Lighthouse"),wn=(0,t.Uk)(" ，因为在这个阶段，代码故意没有被优化，并且包含嵌入式源码图(以及许多其他东西)。更多信息请参见本文档的"),bn=(0,t.Uk)("测试和审计"),fn=(0,t.Uk)(" 部分。"),hn=(0,t._)("p",null,[(0,t.Uk)("对于那些不想在服务工作者更新时手动重新加载页面的人，"),(0,t._)("strong",null,"使用默认的GenerateSW工作箱模式"),(0,t.Uk)("，你可以让它一次性激活。更新quasar.conf.js中的workboxOptions配置，如下所示。")],-1),Wn=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// quasar.conf.js"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token literal-property property"},"pwa"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"workboxOptions"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"skipWaiting"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"true"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"clientsClaim"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token boolean"},"true"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),jn=(0,t.Uk)("来源");function xn(n,s,a,xn,vn,In){const Mn=(0,t.up)("doc-link"),Pn=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(Pn,{"meta-title":xn.metaTitle,title:"配置PWA",related:xn.related,nav:xn.nav,toc:xn.toc,"meta-desc":xn.metaDesc},{default:(0,t.w5)((()=>[(0,t._)("h2",{id:"服务工作者",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=n=>xn.copyHeading("服务工作者"))},"服务工作者"),o,e,p,(0,t._)("ol",null,[c,l,(0,t._)("li",null,[r,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/lighthouse/"},{default:(0,t.w5)((()=>[k])),_:1}),i])]),(0,t._)("div",_,[u,(0,t._)("p",null,[U,d,g,(0,t.Wm)(Mn,{to:"/quasar-cli/developing-pwa/handling-service-worker"},{default:(0,t.w5)((()=>[m])),_:1}),y])]),(0,t._)("h2",{id:"quasar-conf-js",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=n=>xn.copyHeading("quasar-conf-js"))},"Quasar.conf.js"),w,b,(0,t._)("p",null,[f,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin"},{default:(0,t.w5)((()=>[h])),_:1}),W,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/workbox/"},{default:(0,t.w5)((()=>[j])),_:1}),x]),v,I,(0,t._)("h2",{id:"选定工作箱模式",class:"doc-heading doc-h2",onClick:s[2]||(s[2]=n=>xn.copyHeading("选定工作箱模式"))},"选定工作箱模式"),M,P,q,(0,t._)("div",A,[C,(0,t._)("p",null,[S,T,Q,(0,t.Wm)(Mn,{to:"https://github.com/quasarframework/quasar/issues/4998"},{default:(0,t.w5)((()=>[H])),_:1}),L])]),(0,t._)("h3",{id:"generatesw",class:"doc-heading doc-h3",onClick:s[3]||(s[3]=n=>xn.copyHeading("generatesw"))},"GenerateSW"),N,G,O,V,(0,t._)("div",z,[R,(0,t._)("p",null,[F,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#full_generatesw_config"},{default:(0,t.w5)((()=>[E])),_:1}),B])]),(0,t._)("h3",{id:"injectmanifest",class:"doc-heading doc-h3",onClick:s[4]||(s[4]=n=>xn.copyHeading("injectmanifest"))},"InjectManifest"),D,Y,Z,J,(0,t._)("div",K,[X,(0,t._)("ul",null,[$,(0,t._)("li",null,[nn,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#full_injectmanifest_config"},{default:(0,t.w5)((()=>[sn])),_:1}),an])])]),tn,on,(0,t._)("h2",{id:"配置manifest文件",class:"doc-heading doc-h2",onClick:s[5]||(s[5]=n=>xn.copyHeading("配置manifest文件"))},"配置Manifest文件"),en,pn,(0,t._)("p",null,[cn,(0,t.Wm)(Mn,{to:"https://developer.mozilla.org/en-US/docs/Web/Manifest"},{default:(0,t.w5)((()=>[ln])),_:1}),rn]),kn,_n,(0,t._)("h2",{id:"pwa检查表",class:"doc-heading doc-h2",onClick:s[6]||(s[6]=n=>xn.copyHeading("pwa检查表"))},"PWA检查表"),(0,t._)("p",null,[un,(0,t.Wm)(Mn,{to:"https://web.dev/pwa-checklist/"},{default:(0,t.w5)((()=>[Un])),_:1})]),(0,t._)("div",dn,[gn,(0,t._)("p",null,[mn,(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/lighthouse/"},{default:(0,t.w5)((()=>[yn])),_:1}),wn,(0,t.Wm)(Mn,{to:"/quasar-cli/testing-and-auditing"},{default:(0,t.w5)((()=>[bn])),_:1}),fn])]),(0,t._)("h2",{id:"重新加载并自动更新",class:"doc-heading doc-h2",onClick:s[7]||(s[7]=n=>xn.copyHeading("重新加载并自动更新"))},"重新加载并自动更新"),hn,Wn,(0,t._)("p",null,[(0,t.Wm)(Mn,{to:"https://developers.google.com/web/tools/workbox/guides/codelabs/webpack"},{default:(0,t.w5)((()=>[jn])),_:1})])])),_:1},8,["meta-title","related","nav","toc","meta-desc"])}var vn=a(17536);const In={name:"DocMarkdownPage",setup(){return{metaTitle:"配置PWA",metaDesc:"如何用 Quasar CLI 管理你的渐进式Web应用程序。",related:[{name:"quasar.conf.js",category:"Quasar CLI",path:"/quasar-cli/quasar-conf-js"}],nav:[{name:"构建命令",category:"开发PWA",path:"/quasar-cli/developing-pwa/build-commands",dir:"left"},{name:"PWA的HMR",category:"开发PWA",path:"/quasar-cli/developing-pwa/hmr-for-dev",dir:"right"}],toc:[{id:"服务工作者",title:"服务工作者"},{id:"quasar-conf-js",title:"Quasar.conf.js"},{id:"选定工作箱模式",title:"选定工作箱模式"},{id:"generatesw",title:"GenerateSW",sub:!0},{id:"injectmanifest",title:"InjectManifest",sub:!0},{id:"配置manifest文件",title:"配置Manifest文件"},{id:"pwa检查表",title:"PWA检查表"},{id:"重新加载并自动更新",title:"重新加载并自动更新"}],copyHeading:vn.Et}}};var Mn=a(74260);const Pn=(0,Mn.Z)(In,[["render",xn]]),qn=Pn}}]);