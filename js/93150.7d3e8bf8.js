"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[93150],{93150:(e,o,l)=>{l.r(o),l.d(o,{default:()=>ne});var n=l(83673);const c=(0,n.Uk)("使用"),s=(0,n.Uk)("Quasar CLI"),a=(0,n.Uk)("，开发和构建浏览器扩展的可分发程序是非常容易的。下面，我们将详细解释这两个过程。"),d=(0,n._)("p",null,"只需一条命令就可以开始开发一个浏览器扩展程序。",-1),i=(0,n._)("pre",{class:"doc-code language-bash"},[(0,n._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,n.Uk)("$ quasar dev -m bex\n\n"),(0,n._)("span",{class:"token comment"},"# ..or the longer form:"),(0,n.Uk)("\n$ quasar dev --mode bex\n")])],-1),t=(0,n._)("p",null,[(0,n.Uk)("你可能已经有一个"),(0,n._)("code",{class:"doc-token"},"src-bex"),(0,n.Uk)("文件夹，也可能没有，但你现在肯定会有一个。你还会在"),(0,n._)("code",{class:"doc-token"},"src-bex/www"),(0,n.Uk)("下有一组文件。这些文件是webpack开发服务器的输出。通常情况下，这些文件被保存在内存中，这就是为什么你在创建SPA时不会看到它们，但对于浏览器扩展的开发来说，为了使进程正常进行，需要物理文件。")],-1),r=(0,n._)("div",{class:"doc-note doc-note--warning"},[(0,n._)("p",{class:"doc-note__title"},"WARNING"),(0,n._)("p",null,[(0,n.Uk)("不要编辑"),(0,n._)("code",{class:"doc-token"},"src-bex/www"),(0,n.Uk)("文件夹下的任何东西，因为这些修改会被热模块重载(HMR)覆盖。这个文件夹只是你的"),(0,n._)("code",{class:"doc-token"},"src"),(0,n.Uk)("文件夹的内置输出，所以在那里进行修改。")])],-1),u=(0,n._)("p",null,"现在我们已经创建了一个开发环境，我们需要将生成的浏览器扩展加载到你的浏览器中。",-1),_=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.quasar.dev/img/adding-bex-to-chrome-with-debug.png",alt:"",class:"doc-img"})],-1),m=(0,n._)("p",null,"按照上面的截图，必须采取以下步骤：",-1),p=(0,n._)("ol",null,[(0,n._)("li",null,[(0,n.Uk)("在Chrome浏览器中，导航到"),(0,n._)("code",{class:"doc-token"},"chrome://extensions"),(0,n.Uk)("。")]),(0,n._)("li",null,"切换 “开发者模式”。"),(0,n._)("li",null,[(0,n.Uk)("点击 “加载解压”。这将使你看到"),(0,n._)("em",null,"文件夹"),(0,n.Uk)('的选择对话框。导航并选择你的 "src-bex "文件夹。')]),(0,n._)("li",null,"现在你应该看到你的BEX在Chrome中被安装了。")],-1),h=(0,n.Uk)("关于调试Chrome浏览器扩展的更多信息可以在"),k=(0,n.Uk)("官方文档"),g=(0,n.Uk)("中找到。"),U=(0,n._)("p",null,"尽管我们还没有测试过所有基于Chromium的浏览器，但BEX模式应该与它们兼容。请参考相应的浏览器文档，了解如何在该特定的浏览器上添加浏览器扩展。",-1),b=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.quasar.dev/img/adding-bex-to-firefox.png",alt:"",class:"doc-img"})],-1),x=(0,n._)("p",null,"与上面的截图一致，必须采取以下步骤：",-1),f=(0,n._)("ol",null,[(0,n._)("li",null,[(0,n.Uk)("在Firefox中，导航到"),(0,n._)("code",{class:"doc-token"},"about:debugging"),(0,n.Uk)("。")]),(0,n._)("li",null,"点击 “这个火狐浏览器”"),(0,n._)("li",null,[(0,n.Uk)("点击 “加载临时插件…”。这将为您提供"),(0,n._)("em",null,"文件"),(0,n.Uk)("选择对话框。导航并选择你的"),(0,n._)("code",{class:"doc-token"},"src-bex/manifest.json"),(0,n.Uk)("文件。"),(0,n._)("strong",null,"注意："),(0,n.Uk)(" Firefox需要清单文件，而不是像Chromium浏览器那样的"),(0,n._)("code",{class:"doc-token"},"src-bex"),(0,n.Uk)("文件夹。")]),(0,n._)("li",null,"现在你应该看到你的BEX安装在Firefox中。")],-1),C=(0,n.Uk)("更多关于调试Firefox临时附加组件的信息可以在"),v=(0,n.Uk)("Firefox Extension Workshop"),w=(0,n.Uk)("中找到。"),y=(0,n._)("p",null,[(0,n.Uk)("HMR与浏览器扩展开发一起工作，但根据你在哪个浏览器上开发，工作方式略有不同。在这两种情况下，正在构建的 Quasar 应用程序将在发生变化时重新加载。在这种情况下，Quasar应用程序指的是对"),(0,n._)("code",{class:"doc-token"},"src"),(0,n.Uk)("文件夹下的一切所做的改变。")],-1),H=(0,n._)("div",{class:"doc-note doc-note--tip"},[(0,n._)("p",{class:"doc-note__title"},"TIP"),(0,n._)("p",null,[(0,n._)("strong",null,"Chrome与Firefox的差异"),(0,n.Uk)(" - 在开发你的浏览器扩展时，你经常需要对"),(0,n._)("code",{class:"doc-token"},"src-bex"),(0,n.Uk)("文件夹下的文件进行修改。这将在配置钩子、设置弹出窗口等时进行。火狐浏览器会看到这些变化并自动重新加载浏览器扩展。另一方面，Chrome则不会。当你在Chrome浏览器中做了这些改变后，你将需要导航到你的扩展(见上面的Chrome部分)并点击开发浏览器扩展中的刷新图标。")])],-1),q=(0,n._)("p",null,"浏览器扩展在三种不同的环境中运行(更多的是在即将到来的页面上)，它需要各种环境来进行调试。",-1),F=(0,n._)("p",null,"你可以在DevTools中找到以下地方来调查错误和控制台的输出。",-1),E=(0,n._)("ol",null,[(0,n._)("li",null,'弹出窗口 - 右键点击页面或扩展图标，选择DevTools的 "检查 "弹出窗口。'),(0,n._)("li",null,[(0,n.Uk)("后台脚本(例如：background-hooks.js)从"),(0,n._)("code",{class:"doc-token"},"管理扩展-后台页面"),(0,n.Uk)("打开DevTools。")]),(0,n._)("li",null,"内容脚本 - 你的脚本被注入的页面。"),(0,n._)("li",null,[(0,n.Uk)("扩展错误 - 与扩展有关的错误列表(如清单配置)可在"),(0,n._)("code",{class:"doc-token"},"管理扩展-错误"),(0,n.Uk)("中找到。")])],-1),T=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.quasar.dev/img/bex-debug-popup.png",alt:"",class:"doc-img"})],-1),B=(0,n._)("p",null,[(0,n._)("img",{src:"https://cdn.quasar.dev/img/bex-debug-bg.png",alt:"",class:"doc-img"})],-1),X=(0,n._)("p",null,"如果你的代码修改没有传播到浏览器上，你可以尝试一下。",-1),W=(0,n._)("ul",null,[(0,n._)("li",null,"更新或重新加载扩展 - 从扩展列表中(截图)"),(0,n._)("li",null,"重新启动浏览器"),(0,n._)("li",null,"重新启动开发进程")],-1),P=(0,n.Uk)("欲了解更多信息，请访问"),j=(0,n.Uk)("调试扩展"),D=(0,n.Uk)("。"),I=(0,n._)("pre",{class:"doc-code language-bash"},[(0,n._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,n.Uk)("$ quasar build -m bex\n\n"),(0,n._)("span",{class:"token comment"},"# ..or the longer form:"),(0,n.Uk)("\n$ quasar build --mode bex\n")])],-1),Q=(0,n._)("p",null,"当为生产构建时，会产生多个目录。",-1),z=(0,n._)("p",null,"新的文件夹有以下结构：",-1),M=(0,n._)("pre",{class:"doc-code language-bash"},[(0,n._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,n._)("span",{class:"token builtin class-name"},"."),(0,n.Uk)("\n└── dist/\n    ├── UnPackaged/                       "),(0,n._)("span",{class:"token comment"},"# 构建代码，以便在开发环境中进行测试"),(0,n.Uk)("\n    └── Packaged/\n         ├── Chrome\n         "),(0,n._)("span",{class:"token operator"},"|"),(0,n.Uk)("   └── your-project-name.zip     "),(0,n._)("span",{class:"token comment"},"# 一个zip文件，可以提交到Chrome浏览器扩展商店/其他基于Chrome的商店。"),(0,n.Uk)("\n         └── Firefox\n             └── your-project-name.zip     "),(0,n._)("span",{class:"token comment"},"# 准备提交到Firefox扩展商店的zip文件"),(0,n.Uk)("\n")])],-1),R=(0,n._)("div",{class:"doc-note doc-note--tip"},[(0,n._)("p",{class:"doc-note__title"},"TIP"),(0,n._)("p",null,[(0,n.Uk)('如果你想测试 "your-project-name.zip "文件，你可以将该文件拖到你在开发模式下加载扩展的地方；对于Chrome'),(0,n._)("code",{class:"doc-token"},"chrome://extensions"),(0,n.Uk)("和Firefox"),(0,n._)("code",{class:"doc-token"},"about:debugging"),(0,n.Uk)("。更多信息见上面的开发截图。")])],-1),$=(0,n._)("p",null,"在Chrome和Firefox的浏览器扩展的审查过程中，必须允许相关团队检查作为实时扩展部署的代码。考虑到这一点，不允许对代码进行最小化。因此，为了允许审查过程，Quasar将不对浏览器扩展的内置代码进行混淆和减化。",-1),A=(0,n._)("p",null,"鉴于任何扩展都将直接在用户的电脑上运行，上传速度不是一个需要担心的因素，所以对代码进行最小化是没有必要的。",-1),L=(0,n._)("p",null,"因为 Quasar 消除了构建和打包浏览器扩展的负担，所以一旦完成扩展的开发，它就可以发布了。不同浏览器的发布过程不同，但官方文档将指导您完成发布过程。",-1),N=(0,n._)("strong",null,"Chrome",-1),G=(0,n.Uk)(" - "),S=(0,n.Uk)("发布Chrome浏览器扩展"),Z=(0,n._)("strong",null,"火狐浏览器",-1),J=(0,n.Uk)(" - "),K=(0,n.Uk)("发布火狐浏览器附加组件(浏览器扩展)"),O=(0,n._)("div",{class:"doc-note doc-note--tip"},[(0,n._)("p",{class:"doc-note__title"},"TIP"),(0,n._)("p",null,"BEX模式应该与所有基于chromium的浏览器兼容。请参考他们关于发布扩展的相关文档。")],-1);function V(e,o,l,V,Y,ee){const oe=(0,n.up)("doc-link"),le=(0,n.up)("doc-page");return(0,n.wg)(),(0,n.j4)(le,{"meta-title":V.metaTitle,title:"BEX构建命令",nav:V.nav,toc:V.toc,"meta-desc":V.metaDesc},{default:(0,n.w5)((()=>[(0,n._)("p",null,[c,(0,n.Wm)(oe,{to:"/start/quasar-cli"},{default:(0,n.w5)((()=>[s])),_:1}),a]),(0,n._)("h2",{id:"开发",class:"doc-heading doc-h2",onClick:o[0]||(o[0]=e=>V.copyHeading("开发"))},"开发"),d,i,t,r,u,(0,n._)("h3",{id:"chrome浏览器",class:"doc-heading doc-h3",onClick:o[1]||(o[1]=e=>V.copyHeading("chrome浏览器"))},"Chrome浏览器"),_,m,p,(0,n._)("p",null,[h,(0,n.Wm)(oe,{to:"https://developer.chrome.com/extensions/tut_debugging"},{default:(0,n.w5)((()=>[k])),_:1}),g]),(0,n._)("h3",{id:"其他chromium浏览器",class:"doc-heading doc-h3",onClick:o[2]||(o[2]=e=>V.copyHeading("其他chromium浏览器"))},"其他Chromium浏览器"),U,(0,n._)("h3",{id:"firefox",class:"doc-heading doc-h3",onClick:o[3]||(o[3]=e=>V.copyHeading("firefox"))},"Firefox"),b,x,f,(0,n._)("p",null,[C,(0,n.Wm)(oe,{to:"https://extensionworkshop.com/documentation/develop/temporary-installation-in-firefox/"},{default:(0,n.w5)((()=>[v])),_:1}),w]),(0,n._)("h3",{id:"热模块重新载入-hmr-",class:"doc-heading doc-h3",onClick:o[4]||(o[4]=e=>V.copyHeading("热模块重新载入-hmr-"))},"热模块重新载入(HMR)"),y,H,(0,n._)("h2",{id:"调试",class:"doc-heading doc-h2",onClick:o[5]||(o[5]=e=>V.copyHeading("调试"))},"调试"),q,(0,n._)("h3",{id:"使用chrome浏览器",class:"doc-heading doc-h3",onClick:o[6]||(o[6]=e=>V.copyHeading("使用chrome浏览器"))},"使用Chrome浏览器"),F,E,T,B,X,W,(0,n._)("p",null,[P,(0,n.Wm)(oe,{to:"https://developer.chrome.com/docs/extensions/mv2/tut_debugging/"},{default:(0,n.w5)((()=>[j])),_:1}),D]),(0,n._)("h2",{id:"为生产构建",class:"doc-heading doc-h2",onClick:o[7]||(o[7]=e=>V.copyHeading("为生产构建"))},"为生产构建"),I,Q,z,M,R,(0,n._)("h3",{id:"关于最小化的说明",class:"doc-heading doc-h3",onClick:o[8]||(o[8]=e=>V.copyHeading("关于最小化的说明"))},"关于最小化的说明"),$,A,(0,n._)("h2",{id:"发布到商店",class:"doc-heading doc-h2",onClick:o[9]||(o[9]=e=>V.copyHeading("发布到商店"))},"发布到商店"),L,(0,n._)("p",null,[N,G,(0,n.Wm)(oe,{to:"https://developer.chrome.com/webstore/publish"},{default:(0,n.w5)((()=>[S])),_:1})]),(0,n._)("p",null,[Z,J,(0,n.Wm)(oe,{to:"https://extensionworkshop.com/documentation/publish/"},{default:(0,n.w5)((()=>[K])),_:1})]),O])),_:1},8,["meta-title","nav","toc","meta-desc"])}var Y=l(17536);const ee={name:"DocMarkdownPage",setup(){return{metaTitle:"BEX构建命令",metaDesc:"在开发或构建浏览器扩展(BEX)时， Quasar CLI 的命令列表。",nav:[{name:"BEX的应用程序图标",category:"开发浏览器扩展",path:"/quasar-cli/developing-browser-extensions/app-icons-browser-extension",dir:"left"},{name:"BEX的类型",category:"开发浏览器扩展",path:"/quasar-cli/developing-browser-extensions/types-of-bex",dir:"right"}],toc:[{id:"开发",title:"开发"},{id:"chrome浏览器",title:"Chrome浏览器",sub:!0},{id:"其他chromium浏览器",title:"其他Chromium浏览器",sub:!0},{id:"firefox",title:"Firefox",sub:!0},{id:"热模块重新载入-hmr-",title:"热模块重新载入(HMR)",sub:!0},{id:"调试",title:"调试"},{id:"使用chrome浏览器",title:"使用Chrome浏览器",sub:!0},{id:"为生产构建",title:"为生产构建"},{id:"关于最小化的说明",title:"关于最小化的说明",sub:!0},{id:"发布到商店",title:"发布到商店"}],copyHeading:Y.Et}}};var oe=l(74260);const le=(0,oe.Z)(ee,[["render",V]]),ne=le}}]);