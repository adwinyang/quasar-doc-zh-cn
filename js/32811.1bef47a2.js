"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[32811],{32811:(n,a,s)=>{s.r(a),s.d(a,{default:()=>I});var t=s(83673);const o=(0,t.Uk)("Quasar 提供了一个对 "),e=(0,t.Uk)("网络存储（Web Storage）API"),c=(0,t.Uk)(" 的封装器。"),l=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,[(0,t.Uk)("Web Storage API只检索字符串。"),(0,t._)("strong",null,"Quasar以其原始数据类型检索数据"),(0,t.Uk)("。你告诉它存储一个数字，然后再检索它，它仍然是一个数字，而不是像 Web Storage API 那样以字符串表示数字。对于JSON、正则表达式、日期、布尔运算等也是如此。")])],-1),p=(0,t._)("div",{class:"doc-note doc-note--danger"},[(0,t._)("p",{class:"doc-note__title"},"Note about SSR"),(0,t._)("p",null,"当在SSR构建的服务器端运行代码时，这个功能无法工作。网络存储只是一个浏览器API。但是你可以通过SSR在客户端使用它。")],-1),u=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在Vue文件之外"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" LocalStorage"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" SessionStorage "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar'"),(0,t.Uk)("\n\nLocalStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"set"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" LocalStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getItem"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\nSessionStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"set"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"let"),(0,t.Uk)(" value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" SessionStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getItem"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),k=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在一个Vue文件中"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" useQuasar "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token function"},"setup"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" $q "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"useQuasar"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("localStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"set"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("localStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getItem"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("sessionStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"set"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" otherValue "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("sessionStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getItem"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),i=(0,t._)("p",null,"为了在设置数值时做到万无一失，最好还能抓住底层本地/会话存储网络API引发的任何潜在错误，比如超过配额时：",-1),_=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"try"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("localStorage"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"set"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("key"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" value"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"catch"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("e"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 数据没有成功保存，原因是"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 一个网络存储API错误"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),r=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,"有关方法的详尽清单，请查看API部分。")],-1),d=(0,t._)("p",null,"Quasar Storage支持(但不限于)以下开箱即用的数据类型。如果你存储了这些类型中的一种，检索的数据将具有相同的数据类型。",-1),g=(0,t._)("ul",null,[(0,t._)("li",null,"Dates (日期)"),(0,t._)("li",null,"Regular Expressions (正则表达式)"),(0,t._)("li",null,"Numbers (数字)"),(0,t._)("li",null,"Booleans (布尔)"),(0,t._)("li",null,"Strings (字符串)"),(0,t._)("li",null,"Plain Javascript Objects (普通的Javascript对象)")],-1),U=(0,t._)("p",null,[(0,t.Uk)("如果你存储任何 "),(0,t._)("em",null,"其他"),(0,t.Uk)(" 数据类型，返回值将是一个字符串。")],-1),S=(0,t._)("p",null,"你甚至可以存储函数，但请注意，你需要对返回值（函数的字符串表示形式）使用 eval() 来求值。",-1);function m(n,a,s,m,y,h){const v=(0,t.up)("doc-link"),f=(0,t.up)("doc-api"),I=(0,t.up)("doc-installation"),w=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(w,{"meta-title":m.metaTitle,title:"本地/会话存储插件",nav:m.nav,toc:m.toc,"meta-desc":m.metaDesc},{default:(0,t.w5)((()=>[(0,t._)("p",null,[o,(0,t.Wm)(v,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"},{default:(0,t.w5)((()=>[e])),_:1}),c]),l,(0,t._)("h2",{id:"localstorage-api",class:"doc-heading doc-h2",onClick:a[0]||(a[0]=n=>m.copyHeading("localstorage-api"))},"LocalStorage API"),(0,t.Wm)(f,{file:"LocalStorage"}),(0,t._)("h2",{id:"sessionstorage-api",class:"doc-heading doc-h2",onClick:a[1]||(a[1]=n=>m.copyHeading("sessionstorage-api"))},"SessionStorage API"),(0,t.Wm)(f,{file:"SessionStorage"}),(0,t._)("h2",{id:"安装",class:"doc-heading doc-h2",onClick:a[2]||(a[2]=n=>m.copyHeading("安装"))},"安装"),(0,t.Wm)(I,{plugins:["LocalStorage","SessionStorage"]}),p,(0,t._)("h2",{id:"用法",class:"doc-heading doc-h2",onClick:a[3]||(a[3]=n=>m.copyHeading("用法"))},"用法"),u,k,i,_,r,(0,t._)("h2",{id:"数据类型",class:"doc-heading doc-h2",onClick:a[4]||(a[4]=n=>m.copyHeading("数据类型"))},"数据类型"),d,g,U,S])),_:1},8,["meta-title","nav","toc","meta-desc"])}var y=s(17536);const h={name:"DocMarkdownPage",setup(){return{metaTitle:"本地/会话存储插件",metaDesc:"一个封封本地/会话存储的 Quasar 插件，以其原始JS类型检索数据。",nav:[{name:"装载条",category:"Quasar 插件",path:"/quasar-plugins/loading-bar",dir:"left"},{name:"Meta",category:"Quasar 插件",path:"/quasar-plugins/meta",dir:"right"}],toc:[{id:"localstorage-api",title:"LocalStorage API"},{id:"sessionstorage-api",title:"SessionStorage API"},{id:"安装",title:"安装"},{id:"用法",title:"用法"},{id:"数据类型",title:"数据类型"}],copyHeading:y.Et}}};var v=s(74260);const f=(0,v.Z)(h,[["render",m]]),I=f}}]);