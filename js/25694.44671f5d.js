"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[25694],{25694:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Q});var t=a(83673);const o=(0,t._)("blockquote",{class:"doc-note"},[(0,t._)("p",null,"我们建议在项目初始化时选择Axios。")],-1),e=(0,t._)("p",null,[(0,t.Uk)("如果你在项目初始化时没有选择Axios，那么你应该创建一个新的启动文件"),(0,t._)("code",{class:"doc-token"},"axios.js"),(0,t.Uk)("，看起来像这样。 (这里你也可以为你的axios实例指定额外的设置)")],-1),p=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src/boot/axios.js"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" boot "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" axios "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'axios'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"create"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"baseURL"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'https://api.example.com'"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"boot"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 通过this.$axios和this.$api在Vue文件中使用(选项式 API)。"),(0,t.Uk)("\n\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$axios "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" axios\n  "),(0,t._)("span",{class:"token comment"},"// ^ ^ 这将允许你使用this.$axios(用于Vue Options API形式)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//       所以你不一定要在每个vue文件中导入axios。"),(0,t.Uk)("\n\n  app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("globalProperties"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("$api "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" api\n  "),(0,t._)("span",{class:"token comment"},"// ^ ^ 这将允许你使用this.$api(用于Vue选项式 API形式)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"//       所以你可以轻松地对你的应用程序的API执行请求"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" axios"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),c=(0,t._)("p",null,[(0,t.Uk)("还要确保yarn/npm安装"),(0,t._)("code",{class:"doc-token"},"axios"),(0,t.Uk)("包。")],-1),k={class:"doc-note doc-note--tip"},u=(0,t._)("p",{class:"doc-note__title"},"TIP",-1),l=(0,t.Uk)("如果你使用 Quasar CLI ，请务必查看"),i=(0,t.Uk)("预取功能"),_=(0,t.Uk)(" 。"),r=(0,t.Uk)("在你的单一文件组件方法中的用法将像下面一样。注意，在下一个示例中，我们使用 Quasar 的"),U=(0,t.Uk)("Notify插件"),d=(0,t.Uk)("(通过"),m=(0,t._)("code",{class:"doc-token"},"$q = useQuasar()",-1),g=(0,t.Uk)("和"),y=(0,t._)("code",{class:"doc-token"},"$q.notify",-1),f=(0,t.Uk)(")，你需要安装它(按照前面的链接)。"),w=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'boot/axios'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" useQuasar "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token function"},"setup"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" $q "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"useQuasar"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ref"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"null"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadData"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    api"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"get"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/api/backend'"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"response"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        data"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("value "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" response"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("data\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        $q"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"notify"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"color"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'negative'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"position"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'top'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"message"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Loading failed'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n          "),(0,t._)("span",{class:"token literal-property property"},"icon"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'report_problem'"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" loadData "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),x=(0,t._)("p",null,"在Vuex Actions中使用，用于向axios全局添加头信息(如在认证期间)。",-1),h=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" api "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'boot/axios'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"register"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" commit "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" form")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" api"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"post"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'/auth/register'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" form"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"response"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      api"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("defaults"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("headers"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("common"),(0,t._)("span",{class:"token punctuation"},"["),(0,t._)("span",{class:"token string"},"'Authorization'"),(0,t._)("span",{class:"token punctuation"},"]"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'Bearer '"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" response"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("token\n      "),(0,t._)("span",{class:"token function"},"commit"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'login'"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t._)("span",{class:"token literal-property property"},"token"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" response"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("token"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"user"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" response"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),b=(0,t.Uk)("也可以看看"),v=(0,t.Uk)("Axios docs"),q=(0,t.Uk)(" ，了解更多信息。");function A(n,s,a,A,$,j){const P=(0,t.up)("doc-link"),I=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(I,{"meta-title":A.metaTitle,title:"阿贾克斯请求",nav:A.nav,toc:A.toc,"meta-desc":A.metaDesc},{default:(0,t.w5)((()=>[o,e,p,c,(0,t._)("div",k,[u,(0,t._)("p",null,[l,(0,t.Wm)(P,{to:"/quasar-cli/prefetch-feature"},{default:(0,t.w5)((()=>[i])),_:1}),_])]),(0,t._)("p",null,[r,(0,t.Wm)(P,{to:"/quasar-plugins/notify"},{default:(0,t.w5)((()=>[U])),_:1}),d,m,g,y,f]),w,x,h,(0,t._)("p",null,[b,(0,t.Wm)(P,{to:"https://github.com/axios/axios"},{default:(0,t.w5)((()=>[v])),_:1}),q])])),_:1},8,["meta-title","nav","toc","meta-desc"])}var $=a(17536);const j={name:"DocMarkdownPage",setup(){return{metaTitle:"阿贾克斯请求",metaDesc:"在 Quasar 应用中使用Axios来获取数据。",nav:[{name:"DOM 钩子",category:"开发浏览器扩展",path:"/quasar-cli/developing-browser-extensions/dom-hooks",dir:"left"},{name:"向公众开放开发服务器",category:"Quasar CLI",path:"/quasar-cli/opening-dev-server-to-public",dir:"right"}],toc:[],copyHeading:$.Et}}};var P=a(74260);const I=(0,P.Z)(j,[["render",A]]),Q=I}}]);