"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[3285],{3285:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var o=n(83673);const s=(0,o._)("p",null,"“Intersection(交叉)” 是一个 Quasar 指令，当用户滚动时，它所应用的DOM元素(或组件)进入或离开视口时，可以调用一个方法。",-1),a=(0,o.Uk)("在底层，它使用"),c=(0,o.Uk)("交叉点观察者API"),l=(0,o.Uk)("。"),i={class:"doc-note doc-note--warning"},r=(0,o._)("p",{class:"doc-note__title"},"WARNING",-1),d=(0,o.Uk)("并非所有的浏览器都支持交叉观察者API。大多数 "),p=(0,o.Uk)("现代浏览器"),k=(0,o.Uk)(" 支持，但其他浏览器不支持。如果你需要支持旧的浏览器，你可以安装并导入(到一个引导文件中)官方的 W3C "),_=(0,o.Uk)("polyfill"),u=(0,o.Uk)("。"),U=(0,o.Uk)("首先阅读"),m=(0,o.Uk)("Intersection Observer API"),h=(0,o.Uk)("会对你理解这个指令的工作方式有很大帮助。"),g=(0,o._)("p",null,"Intersection 指令要么接受一个处理函数作为参数，要么接受一个Object。对象的形式看起来像这样：",-1),v=(0,o._)("pre",{class:"doc-code language-js"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token literal-property property"},"handler"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token comment"},"/* Function */"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token literal-property property"},"cfg"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token comment"},'// "交叉点观察者选项" 中的任何选项'),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token comment"},"// 请看： https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"root"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"null"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(),(0,o._)("span",{class:"token comment"},"// DOM Element"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"rootMargin"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'0px'"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"threshold"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token number"},"0"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n"),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n")])],-1),I=(0,o._)("p",null,[(0,o.Uk)("当使用对象形式时，只有 "),(0,o._)("code",{class:"doc-token"},"handler"),(0,o.Uk)(" 键是必须的。")],-1),y=(0,o.Uk)("处理程序函数需要一个参数，它是一个"),b=(0,o.Uk)("IntersectionObserverEntry"),f=(0,o.Uk)("。"),W=(0,o._)("div",{class:"doc-note doc-note--tip"},[(0,o._)("p",{class:"doc-note__title"},"TIP"),(0,o._)("p",null,"在下面的示例中滚动，直到观察到的元素出现在视野中。然后再把它滚动到视野之外。")],-1),w=(0,o._)("p",null,[(0,o.Uk)("该指令可与"),(0,o._)("code",{class:"doc-token"},"once"),(0,o.Uk)("修饰符一起使用(例如："),(0,o._)("code",{class:"doc-token"},"v-intersection.once"),(0,o.Uk)(")。一旦被观察的元素进入视野，处理程序函数将被调用，观察将停止。如果你只需要在被观察的元素开始在屏幕上可见时得到通知，这允许你控制处理的开销。")],-1),P=(0,o._)("p",null,"通过传入一个对象作为指令的值(而不是一个函数)，你可以控制交叉点观察员的所有选项(比如阈值)。",-1),A=(0,o.Uk)("下面是一个更高级的示例，说明你可以做什么。该代码利用了HTML的"),O=(0,o._)("code",{class:"doc-token"},"data",-1),C=(0,o.Uk)("属性。基本上，通过在一个循环中设置"),H=(0,o._)("code",{class:"doc-token"},"data-id",-1),T=(0,o.Uk)("与元素的索引，这可以通过传递给处理程序的"),M=(0,o._)("code",{class:"doc-token"},"entry",-1),S=(0,o.Uk)("作为"),V=(0,o._)("code",{class:"doc-token"},"entry.target.dataset.id",-1),j=(0,o.Uk)("来检索。如果你不熟悉"),z=(0,o._)("code",{class:"doc-token"},"data",-1),D=(0,o.Uk)("属性，你可以阅读更多关于使用"),E=(0,o._)("code",{class:"doc-token"},"data",-1),q=(0,o.Uk)("属性的信息 "),L=(0,o.Uk)("这里"),Q=(0,o.Uk)(" 。"),x=(0,o._)("p",null,[(0,o.Uk)("在下面的示例中，我们显示了多张卡片，但只有可见的卡片会被渲染。秘密在于包装器，它有"),(0,o._)("code",{class:"doc-token"},"v-intersection"),(0,o.Uk)("附加在上面，并且有固定的高度和宽度(当内部内容没有被渲染时，它充当了必要的填充物–这样滚动时就不会有不规则的跳跃)。")],-1),F={class:"doc-note"},N=(0,o.Uk)("下面的示例也可以通过使用"),G=(0,o.Uk)("QIntersection"),R=(0,o.Uk)("组件来编写，这使一切变得更加简单。"),Z={class:"doc-note doc-note--tip"},B=(0,o._)("p",{class:"doc-note__title"},"TIP",-1),J=(0,o.Uk)("在上面的示例中，我们使用了一个 Quasar 过渡。完整的列表，请前往 "),K=(0,o.Uk)("过渡"),X=(0,o.Uk)(" 页面。");function Y(e,t,n,Y,$,ee){const te=(0,o.up)("doc-link"),ne=(0,o.up)("doc-api"),oe=(0,o.up)("doc-example"),se=(0,o.up)("doc-page");return(0,o.wg)(),(0,o.j4)(se,{"meta-title":Y.metaTitle,title:"交叉指令",related:Y.related,nav:Y.nav,toc:Y.toc,"meta-desc":Y.metaDesc},{default:(0,o.w5)((()=>[s,(0,o._)("p",null,[a,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},{default:(0,o.w5)((()=>[c])),_:1}),l]),(0,o._)("div",i,[r,(0,o._)("p",null,[d,(0,o.Wm)(te,{to:"https://caniuse.com/#search=intersection"},{default:(0,o.w5)((()=>[p])),_:1}),k,(0,o.Wm)(te,{to:"https://github.com/w3c/IntersectionObserver"},{default:(0,o.w5)((()=>[_])),_:1}),u])]),(0,o._)("h2",{id:"intersection-api",class:"doc-heading doc-h2",onClick:t[0]||(t[0]=e=>Y.copyHeading("intersection-api"))},"Intersection API"),(0,o.Wm)(ne,{file:"Intersection"}),(0,o._)("h2",{id:"使用方法",class:"doc-heading doc-h2",onClick:t[1]||(t[1]=e=>Y.copyHeading("使用方法"))},"使用方法"),(0,o._)("p",null,[U,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},{default:(0,o.w5)((()=>[m])),_:1}),h]),g,v,I,(0,o._)("p",null,[y,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry"},{default:(0,o.w5)((()=>[b])),_:1}),f]),W,(0,o._)("h3",{id:"基础",class:"doc-heading doc-h3",onClick:t[2]||(t[2]=e=>Y.copyHeading("基础"))},"基础"),(0,o.Wm)(oe,{title:"基本",file:"交叉点/基本","no-edit":""}),(0,o._)("h3",{id:"触发一次",class:"doc-heading doc-h3",onClick:t[3]||(t[3]=e=>Y.copyHeading("触发一次"))},"触发一次"),w,(0,o.Wm)(oe,{title:"Once",file:"Intersection/Once","no-edit":""}),(0,o._)("h3",{id:"使用一个对象",class:"doc-heading doc-h3",onClick:t[4]||(t[4]=e=>Y.copyHeading("使用一个对象"))},"使用一个对象"),P,(0,o.Wm)(oe,{title:"提供配置对象",file:"Intersection/ObjectForm","no-edit":""}),(0,o._)("h3",{id:"高级",class:"doc-heading doc-h3",onClick:t[5]||(t[5]=e=>Y.copyHeading("高级"))},"高级"),(0,o._)("p",null,[A,O,C,H,T,M,S,V,j,z,D,E,q,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes"},{default:(0,o.w5)((()=>[L])),_:1}),Q]),(0,o.Wm)(oe,{title:"高级",file:"交叉点/高级","no-edit":""}),x,(0,o._)("blockquote",F,[(0,o._)("p",null,[N,(0,o.Wm)(te,{to:"/vue-components/intersection"},{default:(0,o.w5)((()=>[G])),_:1}),R])]),(0,o.Wm)(oe,{title:"滚动的卡片",file:"Intersection/ScrollingCards",scrollable:"","no-edit":""}),(0,o._)("div",Z,[B,(0,o._)("p",null,[J,(0,o.Wm)(te,{to:"/options/transitions"},{default:(0,o.w5)((()=>[K])),_:1}),X])])])),_:1},8,["meta-title","related","nav","toc","meta-desc"])}var $=n(17536);const ee={name:"DocMarkdownPage",setup(){return{metaTitle:"交叉指令",metaDesc:"Vue指令使用 Intersection Observer API，当用户滚动并将一个组件带入或带出视图时调用一个方法。",related:[{name:"交叉点",category:"Vue 组件",path:"/vue-components/intersection"},{name:"滚动触发",category:"Vue 指令",path:"/vue-directives/scroll-fire"},{name:"滚动",category:"Vue 指令",path:"/vue-directives/scroll"},{name:"过渡",category:"选项和辅助",path:"/options/transitions"}],nav:[{name:"关闭弹出窗口",category:"Vue 指令",path:"/vue-directives/close-popup",dir:"left"},{name:"材料波纹",category:"Vue 指令",path:"/vue-directives/material-ripple",dir:"right"}],toc:[{id:"intersection-api",title:"Intersection API"},{id:"使用方法",title:"使用方法"},{id:"基础",title:"基础",sub:!0},{id:"触发一次",title:"触发一次",sub:!0},{id:"使用一个对象",title:"使用一个对象",sub:!0},{id:"高级",title:"高级",sub:!0}],copyHeading:$.Et}}};var te=n(74260);const ne=(0,te.Z)(ee,[["render",Y]]),oe=ne}}]);