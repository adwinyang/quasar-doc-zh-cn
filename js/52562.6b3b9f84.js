"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[52562],{52562:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var s=t(83673);const a=(0,s._)("p",null,"This guide is for when you want to create a new directive and provide it through an App Extension, which will inject it into the hosting app.",-1),o={class:"doc-note doc-note--tip"},c=(0,s._)("p",{class:"doc-note__title"},"TIP",-1),i=(0,s.Uk)("To create an App Extension project folder, please first read the "),p=(0,s.Uk)("Development Guide > Introduction"),l=(0,s.Uk)("."),r={class:"doc-note doc-note--tip"},u=(0,s._)("p",{class:"doc-note__title"},"Full Example",-1),k=(0,s.Uk)("To see an example of what we will build, head over to "),d=(0,s.Uk)("MyDirective full example"),_=(0,s.Uk)(", which is a GitHub repo with this App Extension."),m=(0,s._)("p",null,"Create a folder structure to keep your code modularized and organized. For instance, for a directive, create a structure that looks like this:",-1),h=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s._)("span",{class:"token builtin class-name"},"."),(0,s.Uk)("\n├── package.json\n└── src\n    ├── boot                         "),(0,s._)("span",{class:"token comment"},"# folder to contain 'boot' code"),(0,s.Uk)("\n    │   └── register-my-directive.js "),(0,s._)("span",{class:"token comment"},"# boot file for component"),(0,s.Uk)("\n    ├── directive                    "),(0,s._)("span",{class:"token comment"},"# folder to contain component"),(0,s.Uk)("\n    │   └── MyDirective.js           "),(0,s._)("span",{class:"token comment"},"# directive file"),(0,s.Uk)("\n    └── index.js                     "),(0,s._)("span",{class:"token comment"},"# Described in Index API"),(0,s.Uk)("\n")])],-1),U=(0,s.Uk)("Now, you need to handle registering your Vue directive. You do this with the "),g=(0,s._)("code",{class:"doc-token"},"/index.js",-1),f=(0,s.Uk)(" file (described in the "),v=(0,s.Uk)("Index API"),w=(0,s.Uk)(") that was created when you set up your new App Extension."),y=(0,s._)("p",null,"Let’s break it down.",-1),b=(0,s._)("pre",{class:"doc-code language-js"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,s._)("span",{class:"token comment"},"// file: /index.js"),(0,s.Uk)("\nmodule"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function-variable function"},"exports"),(0,s.Uk)(),(0,s._)("span",{class:"token operator"},"="),(0,s.Uk)(),(0,s._)("span",{class:"token keyword"},"function"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token parameter"},"api"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"// (Optional!)"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"// Quasar compatibility check; you may need"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},'// hard dependencies, as in a minimum version of the "quasar"'),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},'// package or a minimum version of "@quasar/app" CLI'),(0,s.Uk)("\n  api"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"compatibleWith"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'quasar'"),(0,s._)("span",{class:"token punctuation"},","),(0,s.Uk)(),(0,s._)("span",{class:"token string"},"'^2.0.0'"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n  api"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"compatibleWith"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'@quasar/app'"),(0,s._)("span",{class:"token punctuation"},","),(0,s.Uk)(),(0,s._)("span",{class:"token string"},"'^3.0.0'"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n\n  "),(0,s._)("span",{class:"token comment"},"// Here we extend /quasar.conf.js, so we can add"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"// a boot file which registers our new Vue directive;"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},'// "extendConf" will be defined below (keep reading the tutorial)'),(0,s.Uk)("\n  api"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"extendQuasarConf"),(0,s._)("span",{class:"token punctuation"},"("),(0,s.Uk)("extendConf"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n")])],-1),x=(0,s._)("p",null,"The first group does a compatibility check with Quasar (which is optional, but recommended). If your component is using features of Quasar that were available after a certain version, you can make sure that the version of Quasar installed is the correct one.",-1),j={class:"doc-note doc-note--tip"},D=(0,s._)("p",{class:"doc-note__title"},"TIP",-1),I=(0,s.Uk)("Not only can you do a "),T=(0,s._)("code",{class:"doc-token"},"api.compatibleWith()",-1),q=(0,s.Uk)(" to check against Quasar packages, but with any other available packages (that you do not supply yourself through your App Extension) as well. Please read "),C=(0,s.Uk)("Handling package dependencies"),A=(0,s.Uk)(" section from the App Extension Development Guide > Introduction page for more information."),E=(0,s._)("p",null,[(0,s.Uk)("The second group tells Quasar to call our custom function when the "),(0,s._)("code",{class:"doc-token"},"extendQuasarConf"),(0,s.Uk)(" CLI life-cycle hook is called. It would look something like this:")],-1),Q=(0,s._)("pre",{class:"doc-code language-js"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,s._)("span",{class:"token comment"},"// file: /index.js"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token keyword"},"function"),(0,s.Uk)(),(0,s._)("span",{class:"token function"},"extendConf"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token parameter"},"conf"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token comment"},"// make sure my-directive boot file is registered"),(0,s.Uk)("\n  conf"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("boot"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"push"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'~quasar-app-extension-my-directive/src/boot/register-my-directive.js'"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n\n  "),(0,s._)("span",{class:"token comment"},"// make sure boot & other files get transpiled"),(0,s.Uk)("\n  conf"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("build"),(0,s._)("span",{class:"token punctuation"},"."),(0,s.Uk)("transpileDependencies"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"push"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token regex"},[(0,s._)("span",{class:"token regex-delimiter"},"/"),(0,s._)("span",{class:"token regex-source language-regex"},"quasar-app-extension-my-directive[\\\\/]src"),(0,s._)("span",{class:"token regex-delimiter"},"/")]),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n")])],-1),W=(0,s.Uk)("Finally, let’s see how the boot file would look like. Make sure that you read the "),P=(0,s.Uk)("Boot files"),M=(0,s.Uk)(" documentation and understand what a Boot file is first."),V=(0,s._)("pre",{class:"doc-code language-js"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,s._)("span",{class:"token comment"},"// file: /src/boot/my-directive.js"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token keyword"},"import"),(0,s.Uk)(" MyDirective "),(0,s._)("span",{class:"token keyword"},"from"),(0,s.Uk)(),(0,s._)("span",{class:"token string"},"'../directive/MyDirective.js'"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"// We globally register our directive with Vue;"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"// Remember that all directives in Vue will start with 'v-'"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"// but that should not be part of your directive name"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"// https://v3.vuejs.org/guide/custom-directive.html#custom-directives"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"// 'my-directive' will be used as 'v-my-directive'"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token keyword"},"export"),(0,s.Uk)(),(0,s._)("span",{class:"token keyword"},"default"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token parameter"},[(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)(" app "),(0,s._)("span",{class:"token punctuation"},"}")]),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)(),(0,s._)("span",{class:"token operator"},"=>"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n  app"),(0,s._)("span",{class:"token punctuation"},"."),(0,s._)("span",{class:"token function"},"directive"),(0,s._)("span",{class:"token punctuation"},"("),(0,s._)("span",{class:"token string"},"'my-directive'"),(0,s._)("span",{class:"token punctuation"},","),(0,s.Uk)(" MyDirective"),(0,s._)("span",{class:"token punctuation"},")"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n")])],-1);function H(e,n,t,H,F,G){const L=(0,s.up)("doc-link"),z=(0,s.up)("doc-page");return(0,s.wg)(),(0,s.j4)(z,{"meta-title":H.metaTitle,title:"Providing a directive","meta-desc":H.metaDesc},{default:(0,s.w5)((()=>[a,(0,s._)("div",o,[c,(0,s._)("p",null,[i,(0,s.Wm)(L,{to:"/app-extensions/development-guide/introduction"},{default:(0,s.w5)((()=>[p])),_:1}),l])]),(0,s._)("div",r,[u,(0,s._)("p",null,[k,(0,s.Wm)(L,{to:"https://github.com/quasarframework/app-extension-examples/tree/v2/my-directive"},{default:(0,s.w5)((()=>[d])),_:1}),_])]),m,h,(0,s._)("p",null,[U,g,f,(0,s.Wm)(L,{to:"/app-extensions/development-guide/index-api"},{default:(0,s.w5)((()=>[v])),_:1}),w]),y,b,x,(0,s._)("div",j,[D,(0,s._)("p",null,[I,T,q,(0,s.Wm)(L,{to:"/app-extensions/development-guide/introduction#handling-package-dependencies"},{default:(0,s.w5)((()=>[C])),_:1}),A])]),E,Q,(0,s._)("p",null,[W,(0,s.Wm)(L,{to:"/quasar-cli/boot-files"},{default:(0,s.w5)((()=>[P])),_:1}),M]),V])),_:1},8,["meta-title","meta-desc"])}var F=t(17536);const G={name:"DocMarkdownPage",setup(){return{metaTitle:"Providing a directive",metaDesc:"Tips and tricks on how to provide a Vue directive to the host app of a Quasar App Extension.",copyHeading:F.Et}}};var L=t(74260);const z=(0,L.Z)(G,[["render",H]]),B=z}}]);