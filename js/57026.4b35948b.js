"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[57026],{57026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var o=n(83673);const s=(0,o._)("p",null,"“Intersection” is a Quasar directive that enables a method to be called when the user scrolls and the DOM element (or component) that it is applied to comes into or out of the viewport.",-1),a=(0,o.Uk)("Under the hood, it uses the "),i=(0,o.Uk)("Intersection Observer API"),c=(0,o.Uk)("."),r={class:"doc-note doc-note--warning"},l=(0,o._)("p",{class:"doc-note__title"},"WARNING",-1),d=(0,o.Uk)("Not all browsers support the Intersection Observer API. Most "),p=(0,o.Uk)("modern browsers"),h=(0,o.Uk)(" do, but other browsers do not. If you need to support older browsers, you can install and import (into a boot file) the official W3C "),u=(0,o.Uk)("polyfill"),k=(0,o.Uk)("."),_=(0,o.Uk)("Reading the "),m=(0,o.Uk)("Intersection Observer API"),g=(0,o.Uk)(" first will be best in your understanding of how this directive works."),b=(0,o._)("p",null,"Intersection directive takes either a handler function as an argument or an Object. The Object form looks like this:",-1),v=(0,o._)("pre",{class:"doc-code language-js"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token literal-property property"},"handler"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token comment"},"/* Function */"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token literal-property property"},"cfg"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token comment"},'// any options from "Intersection observer options"'),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token comment"},"// on https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"root"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"null"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(),(0,o._)("span",{class:"token comment"},"// DOM Element"),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"rootMargin"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'0px'"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n    "),(0,o._)("span",{class:"token literal-property property"},"threshold"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token number"},"0"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n"),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n")])],-1),U=(0,o._)("p",null,[(0,o.Uk)("When using the Object form, only the "),(0,o._)("code",{class:"doc-token"},"handler"),(0,o.Uk)(" key is mandatory.")],-1),w=(0,o.Uk)("The handler Function takes one parameter, which is an "),y=(0,o.Uk)("IntersectionObserverEntry"),f=(0,o.Uk)("."),I=(0,o._)("div",{class:"doc-note doc-note--tip"},[(0,o._)("p",{class:"doc-note__title"},"TIP"),(0,o._)("p",null,"Scroll within the examples below until the observed element is in view. Then scroll it out of view.")],-1),O=(0,o._)("p",null,[(0,o.Uk)("The directive can be used with the "),(0,o._)("code",{class:"doc-token"},"once"),(0,o.Uk)(" modifier (ex: "),(0,o._)("code",{class:"doc-token"},"v-intersection.once"),(0,o.Uk)("). Once the observed element comes into view, the handler Function will be called and the observing will stop. This allows you to control the processing overhead if all you need is to be notified when the observed element starts to be visible on screen.")],-1),W=(0,o._)("p",null,"By passing in an Object as the directive’s value (instead of a Function), you can control all the options (like threshold) of the Intersection Observer.",-1),T=(0,o.Uk)("Below is a more advanced example of what you can do. The code takes advantage of the HTML "),A=(0,o._)("code",{class:"doc-token"},"data",-1),P=(0,o.Uk)(" attribute. Basically, by setting "),j=(0,o._)("code",{class:"doc-token"},"data-id",-1),C=(0,o.Uk)(" with the index of the element in a loop, this can be retrieved via the passed in "),x=(0,o._)("code",{class:"doc-token"},"entry",-1),H=(0,o.Uk)(" to the handler as "),S=(0,o._)("code",{class:"doc-token"},"entry.target.dataset.id",-1),B=(0,o.Uk)(". If you are unfamiliar with the "),D=(0,o._)("code",{class:"doc-token"},"data",-1),M=(0,o.Uk)(" attribute you can read more "),F=(0,o.Uk)("here"),z=(0,o.Uk)(" about using the "),E=(0,o._)("code",{class:"doc-token"},"data",-1),V=(0,o.Uk)(" attribute."),q=(0,o._)("p",null,[(0,o.Uk)("In the example below, we show multiple cards, but only the visible ones get rendered. The secret is in the wrapper which has "),(0,o._)("code",{class:"doc-token"},"v-intersection"),(0,o.Uk)(" attached to it and a fixed height and width (which acts as a necessary filler when the inner content is not rendered – so that scrolling won’t erratically jump).")],-1),L={class:"doc-note"},N=(0,o.Uk)("The example below can also be written by using "),Q=(0,o.Uk)("QIntersection"),R=(0,o.Uk)(" component which makes everything even more easy."),G={class:"doc-note doc-note--tip"},Z=(0,o._)("p",{class:"doc-note__title"},"TIP",-1),J=(0,o.Uk)("In the example above we used a Quasar transition. For a full list, please head to "),K=(0,o.Uk)("Transitions"),X=(0,o.Uk)(" page.");function Y(e,t,n,Y,$,ee){const te=(0,o.up)("doc-link"),ne=(0,o.up)("doc-api"),oe=(0,o.up)("doc-example"),se=(0,o.up)("doc-page");return(0,o.wg)(),(0,o.j4)(se,{"meta-title":Y.metaTitle,title:"Intersection Directive",related:Y.related,toc:Y.toc,"meta-desc":Y.metaDesc},{default:(0,o.w5)((()=>[s,(0,o._)("p",null,[a,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},{default:(0,o.w5)((()=>[i])),_:1}),c]),(0,o._)("div",r,[l,(0,o._)("p",null,[d,(0,o.Wm)(te,{to:"https://caniuse.com/#search=intersection"},{default:(0,o.w5)((()=>[p])),_:1}),h,(0,o.Wm)(te,{to:"https://github.com/w3c/IntersectionObserver"},{default:(0,o.w5)((()=>[u])),_:1}),k])]),(0,o._)("h2",{id:"intersection-api",class:"doc-heading doc-h2",onClick:t[0]||(t[0]=e=>Y.copyHeading("intersection-api"))},"Intersection API"),(0,o.Wm)(ne,{file:"Intersection"}),(0,o._)("h2",{id:"usage",class:"doc-heading doc-h2",onClick:t[1]||(t[1]=e=>Y.copyHeading("usage"))},"Usage"),(0,o._)("p",null,[_,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},{default:(0,o.w5)((()=>[m])),_:1}),g]),b,v,U,(0,o._)("p",null,[w,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry"},{default:(0,o.w5)((()=>[y])),_:1}),f]),I,(0,o._)("h3",{id:"basic",class:"doc-heading doc-h3",onClick:t[2]||(t[2]=e=>Y.copyHeading("basic"))},"Basic"),(0,o.Wm)(oe,{title:"Basic",file:"Intersection/Basic","no-edit":""}),(0,o._)("h3",{id:"trigger-once",class:"doc-heading doc-h3",onClick:t[3]||(t[3]=e=>Y.copyHeading("trigger-once"))},"Trigger once"),O,(0,o.Wm)(oe,{title:"Once",file:"Intersection/Once","no-edit":""}),(0,o._)("h3",{id:"using-an-object",class:"doc-heading doc-h3",onClick:t[4]||(t[4]=e=>Y.copyHeading("using-an-object"))},"Using an Object"),W,(0,o.Wm)(oe,{title:"Supplying configuration Object",file:"Intersection/ObjectForm","no-edit":""}),(0,o._)("h3",{id:"advanced",class:"doc-heading doc-h3",onClick:t[5]||(t[5]=e=>Y.copyHeading("advanced"))},"Advanced"),(0,o._)("p",null,[T,A,P,j,C,x,H,S,B,D,M,(0,o.Wm)(te,{to:"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes"},{default:(0,o.w5)((()=>[F])),_:1}),z,E,V]),(0,o.Wm)(oe,{title:"Advanced",file:"Intersection/Advanced","no-edit":""}),q,(0,o._)("blockquote",L,[(0,o._)("p",null,[N,(0,o.Wm)(te,{to:"/vue-components/intersection"},{default:(0,o.w5)((()=>[Q])),_:1}),R])]),(0,o.Wm)(oe,{title:"Scrolling Cards",file:"Intersection/ScrollingCards",scrollable:"","no-edit":""}),(0,o._)("div",G,[Z,(0,o._)("p",null,[J,(0,o.Wm)(te,{to:"/options/transitions"},{default:(0,o.w5)((()=>[K])),_:1}),X])])])),_:1},8,["meta-title","related","toc","meta-desc"])}var $=n(17536);const ee={name:"DocMarkdownPage",setup(){return{metaTitle:"Intersection Directive",metaDesc:"Vue directive that uses Intersection Observer API to call a method when user scrolls and brings a component into or out of view.",related:[{name:"交叉点",category:"Vue 组件",path:"/vue-components/intersection"},{name:"滚动触发",category:"Vue 指令",path:"/vue-directives/scroll-fire"},{name:"滚动",category:"Vue 指令",path:"/vue-directives/scroll"},{name:"过渡",category:"选项和辅助",path:"/options/transitions"}],toc:[{id:"intersection-api",title:"Intersection API"},{id:"usage",title:"Usage"},{id:"basic",title:"Basic",sub:!0},{id:"trigger-once",title:"Trigger once",sub:!0},{id:"using-an-object",title:"Using an Object",sub:!0},{id:"advanced",title:"Advanced",sub:!0}],copyHeading:$.Et}}};var te=n(74260);const ne=(0,te.Z)(ee,[["render",Y]]),oe=ne}}]);