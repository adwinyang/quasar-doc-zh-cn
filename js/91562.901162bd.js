"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[91562],{91562:(l,t,n)=>{n.r(t),n.d(t,{default:()=>y});var e=n(83673);const a=(0,e._)("p",null,"你可以使用 Quasar 的变形工具将一个 DOM 元素变形为另一个(有动画)，或者在同一个元素的两个状态之间变形。",-1),u=(0,e.Uk)("可能也值得看看"),o=(0,e.Uk)("变形指令"),_=(0,e.Uk)(" ，它使用这个工具，但使用起来更简单。"),s=(0,e._)("pre",{class:"doc-code language-js"},[(0,e._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,e._)("span",{class:"token keyword"},"import"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" morph "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)(),(0,e._)("span",{class:"token keyword"},"from"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'quasar'"),(0,e.Uk)("\n\n"),(0,e._)("span",{class:"token comment"},"// 将一个 DOM 元素变形为另一个。"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" cancelMorph "),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"morph"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token literal-property property"},"from"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'#from-el'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token literal-property property"},"to"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'#to-el'"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n\n"),(0,e._)("span",{class:"token comment"},"// 调用cancelMorph()来取消变形。"),(0,e.Uk)("\n")])],-1),d=(0,e._)("p",null,"该函数希望有一个强制性的对象参数，其键值如下：",-1),r=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"text-left"},"名称"),(0,e._)("th",{class:"text-left"},"类型"),(0,e._)("th",{class:"text-left"},"默认值"),(0,e._)("th",{class:"text-left"},"说明")])],-1),i=(0,e._)("tbody",null,[(0,e._)("tr",null,[(0,e._)("td",null,"from"),(0,e._)("td",null,"DOM"),(0,e._)("td",null,"-"),(0,e._)("td",null,[(0,e.Uk)("("),(0,e._)("strong",null,"必须的"),(0,e.Uk)(") 一个 DOM 元素或CSS选择器，或者一个返回 DOM 元素的函数")])]),(0,e._)("tr",null,[(0,e._)("td",null,"to"),(0,e._)("td",null,"DOM"),(0,e._)("td",null,"-"),(0,e._)("td",null,'与 "from "相同；如果缺少 “to”，则假定其与 "from "相同')]),(0,e._)("tr",null,[(0,e._)("td",null,"onToggle()"),(0,e._)("td",null,"Function"),(0,e._)("td",null,"-"),(0,e._)("td",null,"一个同步的切换函数，将在初始元素的状态被保存后立即执行。使用一个切换组件状态的函数，使目标元素变得可用。")]),(0,e._)("tr",null,[(0,e._)("td",null,"waitFor"),(0,e._)("td",null,"Number/‘transitioned’/Promise"),(0,e._)("td",null,"0"),(0,e._)("td",null,[(0,e.Uk)("一个数字，'transitionend’或一个Promise - 它将延迟动画开始的时间，直到目标元素发出’transitionend’事件，或直到承诺被解决(如果承诺被拒绝，变形将中止，但"),(0,e._)("code",{class:"doc-token"},"toggle函数"),(0,e.Uk)("已经被调用)")])]),(0,e._)("tr",null,[(0,e._)("td",null,"duration"),(0,e._)("td",null,"Number"),(0,e._)("td",null,"300"),(0,e._)("td",null,"动画的持续时间，以毫秒为单位")]),(0,e._)("tr",null,[(0,e._)("td",null,"easing"),(0,e._)("td",null,"String"),(0,e._)("td",null,"‘ease-in-out’"),(0,e._)("td",null,"动画的时间函数(CSS缓和格式)")]),(0,e._)("tr",null,[(0,e._)("td",null,"delay"),(0,e._)("td",null,"Number"),(0,e._)("td",null,"0"),(0,e._)("td",null,"动画的延迟，以毫秒为单位")]),(0,e._)("tr",null,[(0,e._)("td",null,"fill"),(0,e._)("td",null,"String"),(0,e._)("td",null,"‘none’"),(0,e._)("td",null,"动画的填充模式")]),(0,e._)("tr",null,[(0,e._)("td",null,"style"),(0,e._)("td",null,"String/Object"),(0,e._)("td",null,"-"),(0,e._)("td",null,"当变形元素被动画化时，要应用到它的额外样式(可以是字符串或CSSStyleDeclaration对象)")]),(0,e._)("tr",null,[(0,e._)("td",null,"classes"),(0,e._)("td",null,"String"),(0,e._)("td",null,"-"),(0,e._)("td",null,"当变形元素被动画化时，额外的类将被应用到变形元素上(以字符串形式)")]),(0,e._)("tr",null,[(0,e._)("td",null,"resize"),(0,e._)("td",null,"Boolean"),(0,e._)("td",null,[(0,e._)("em",null,"false")]),(0,e._)("td",null,"强制调整大小，而不是默认的缩放变换")]),(0,e._)("tr",null,[(0,e._)("td",null,"useCSS"),(0,e._)("td",null,"Boolean"),(0,e._)("td",null,[(0,e._)("em",null,"false")]),(0,e._)("td",null,"强制使用CSS而不是动画API")]),(0,e._)("tr",null,[(0,e._)("td",null,"hideFromClone"),(0,e._)("td",null,"Boolean"),(0,e._)("td",null,[(0,e._)("em",null,"false")]),(0,e._)("td",null,"默认情况下，初始元素的克隆会被用来填补元素被移除后的空间–如果初始元素没有被移除，或者不希望初始元素占用的空间被调整大小，则设置此标志")]),(0,e._)("tr",null,[(0,e._)("td",null,"keepToClone"),(0,e._)("td",null,"Boolean"),(0,e._)("td",null,[(0,e._)("em",null,"false")]),(0,e._)("td",null,"默认情况下，最终的元素会从它的最终位置被移除，以实现动画效果 - 设置此标志，在最终位置保留一个副本")]),(0,e._)("tr",null,[(0,e._)("td",null,"tween"),(0,e._)("td",null,"Boolean"),(0,e._)("td",null,[(0,e._)("em",null,"false")]),(0,e._)("td",null,"默认情况下，最终元素会从初始元素的位置和角度变形到最终元素的位置和角度 - 设置此标志，在初始元素和最终元素之间使用不透明的变形")]),(0,e._)("tr",null,[(0,e._)("td",null,"tweenFromOpacity"),(0,e._)("td",null,"Number"),(0,e._)("td",null,"0.6"),(0,e._)("td",null,[(0,e.Uk)("如果使用"),(0,e._)("strong",null,"tween"),(0,e.Uk)("，它是初始元素的初始不透明度(将被动画化为0)–初始元素被放置在目标元素之上。")])]),(0,e._)("tr",null,[(0,e._)("td",null,"tweenToOpacity"),(0,e._)("td",null,"Number"),(0,e._)("td",null,"0.5"),(0,e._)("td",null,[(0,e.Uk)("如果使用"),(0,e._)("strong",null,"tween"),(0,e.Uk)("，它是目标元素的初始不透明度(将被动画化为1)。")])]),(0,e._)("tr",null,[(0,e._)("td",null,"onEnd(direction, aborted)"),(0,e._)("td",null,"Function"),(0,e._)("td",null,"-"),(0,e._)("td",null,'一个在变形完成后会被调用的函数，接收两个参数。"方向 "是一个字符串(如果变形在最终状态下完成，则为’to’，如果在初始状态下完成，则为’from’)，"aborted"是一个布尔值(真表示动画被中止)。')])],-1),c=(0,e._)("ol",null,[(0,e._)("li",null,"获取初始元素的方面和位置(如果提供了获取初始元素的函数，它将被调用)。"),(0,e._)("li",null,"计算初始元素的容器的大小和位置"),(0,e._)("li",null,"如果另一个变形使用了相同的元素，该变形将被中止。"),(0,e._)("li",null,"执行onToggle()函数(如果存在)。"),(0,e._)("li",null,"重新计算初始元素的容器的大小和位置，检查它们是否被改变了"),(0,e._)("li",null,"在下一个tick(允许Vue处理状态变化)中，最终元素将被识别(如果提供了一个函数用于获取最终元素，它将被调用)。"),(0,e._)("li",null,"如果另一个变形使用了相同的元素，该变形将被中止。"),(0,e._)("li",null,"计算最终元素的容器的大小和位置"),(0,e._)("li",null,[(0,e.Uk)("如果提供了"),(0,e._)("strong",null,"waitFor"),(0,e.Uk)('，则等待该数量的 "transitionend "事件或直到承诺被解决(如果承诺被拒绝，则变形被中止)。')]),(0,e._)("li",null,"重新计算最后一个元素的容器的大小和位置，以检查它们是否被改变。"),(0,e._)("li",null,"获取最终元素的方面和位置"),(0,e._)("li",null,"启动动画")],-1),p=(0,e._)("p",null,"关于cancel()函数(调用morph()的返回值)：",-1),k=(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Uk)("如果返回的"),(0,e._)("code",{class:"doc-token"},"cancel"),(0,e.Uk)("函数在步骤1到11之间被调用，那么变形将被中止(如果取消是在步骤4之后，"),(0,e._)("code",{class:"doc-token"},"toggle函数"),(0,e.Uk)("仍将被调用)，返回值将是"),(0,e._)("strong",null,"false"),(0,e.Uk)("。")]),(0,e._)("li",null,[(0,e.Uk)("如果`cancel’函数在动画的开始和结束之间被调用，那么动画将被逆转，返回值将是"),(0,e._)("strong",null,"true"),(0,e.Uk)("。")]),(0,e._)("li",null,[(0,e.Uk)("如果在动画结束后调用`cancel’函数，则不会发生任何事情，返回值将是"),(0,e._)("strong",null,"false"),(0,e.Uk)("。")])],-1);function m(l,t,n,m,g,U){const h=(0,e.up)("doc-link"),f=(0,e.up)("q-markup-table"),y=(0,e.up)("doc-example"),w=(0,e.up)("doc-page");return(0,e.wg)(),(0,e.j4)(w,{"meta-title":m.metaTitle,title:"变形工具",related:m.related,nav:m.nav,toc:m.toc,"meta-desc":m.metaDesc},{default:(0,e.w5)((()=>[a,(0,e._)("p",null,[u,(0,e.Wm)(h,{to:"/vue-directives/morph"},{default:(0,e.w5)((()=>[o])),_:1}),_]),(0,e._)("h2",{id:"基本用法",class:"doc-heading doc-h2",onClick:t[0]||(t[0]=l=>m.copyHeading("基本用法"))},"基本用法"),s,d,(0,e.Wm)(f,{"wrap-cells":!0,flat:!0,bordered:!0,style:{width:"fit-content","max-width":"100%"}},{default:(0,e.w5)((()=>[r,i])),_:1}),(0,e._)("h2",{id:"变形的生命周期",class:"doc-heading doc-h2",onClick:t[1]||(t[1]=l=>m.copyHeading("变形的生命周期"))},"变形的生命周期"),c,p,k,(0,e._)("h2",{id:"示例",class:"doc-heading doc-h2",onClick:t[2]||(t[2]=l=>m.copyHeading("示例"))},"示例"),(0,e.Wm)(y,{title:"对同一元素进行变形",file:"MorphUtils/SameElement"}),(0,e.Wm)(y,{title:"从QFabAction变形一个QCard",file:"MorphUtils/FabCard"}),(0,e.Wm)(y,{title:"图像画廊",file:"MorphUtils/ImageGallery"}),(0,e.Wm)(y,{title:"水平图像条",file:"MorphUtils/ImageStripHorizontal"}),(0,e.Wm)(y,{title:"垂直图像条",file:"MorphUtils/ImageStripVertical"})])),_:1},8,["meta-title","related","nav","toc","meta-desc"])}var g=n(17536);const U={name:"DocMarkdownPage",setup(){return{metaTitle:"变形工具",metaDesc:"使用 Quasar 的变形工具，将一个 DOM 元素变形为另一个 DOM 元素(带动画)，或在同一元素的两个状态之间进行变形。",related:[{name:"变形",category:"Vue 指令",path:"/vue-directives/morph"}],nav:[{name:"DOM工具",category:"Quasar 工具",path:"/quasar-utils/dom-utils",dir:"left"},{name:"格式化工具",category:"Quasar 工具",path:"/quasar-utils/formatter-utils",dir:"right"}],toc:[{id:"基本用法",title:"基本用法"},{id:"变形的生命周期",title:"变形的生命周期"},{id:"示例",title:"示例"}],copyHeading:g.Et}}};var h=n(74260);const f=(0,h.Z)(U,[["render",m]]),y=f}}]);