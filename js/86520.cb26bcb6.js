"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[86520],{86520:(n,s,a)=>{a.r(s),a.d(s,{default:()=>A});var t=a(83673);const o=(0,t._)("div",{class:"doc-note doc-note--danger"},[(0,t._)("p",{class:"doc-note__title"},"WARNING"),(0,t._)("ul",null,[(0,t._)("li",null,"你需要运行在 “@quasar/app” v3.2以上才能使用这个功能。"),(0,t._)("li",null,"这个文件只用于你的生产构建，而不是在开发时使用。")])],-1),e=(0,t._)("p",null,[(0,t.Uk)("注意你生成的"),(0,t._)("code",{class:"doc-token"},"/src-ssr"),(0,t.Uk)("包含一个名为"),(0,t._)("code",{class:"doc-token"},"production-export.js"),(0,t.Uk)("的文件。这个文件定义了如何为你的SSR webserver提供服务。你可以开始监听一个端口，或者为你的无服务器基础设施提供一个处理程序来使用。这由你决定。")],-1),c=(0,t._)("blockquote",{class:"doc-note"},[(0,t._)("p",null,[(0,t.Uk)("无论这个函数返回什么(如果有的话)，都将从你建立的"),(0,t._)("code",{class:"doc-token"},"dist/ssr/index.js"),(0,t.Uk)("中导出。")])],-1),p=(0,t._)("p",null,[(0,t._)("code",{class:"doc-token"},"/src-ssr/production-export.[js|ts]"),(0,t.Uk)("文件是一个简单的JavaScript文件，用于启动SSR webserver并定义webserver的输出内容(如果有输出的话)。")],-1),k=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// 在这里导入一些东西(无服务器包？)"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// 与服务器 "应用程序 "有关的东西'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 返回你希望你的网络服务器输出的任何东西(无服务器功能的处理程序？)"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),l=(0,t._)("div",{class:"doc-note doc-note--tip"},[(0,t._)("p",{class:"doc-note__title"},"TIP"),(0,t._)("p",null,[(0,t.Uk)("记住，无论这个函数返回什么(如果有的话)，都将从你建立的"),(0,t._)("code",{class:"doc-token"},"dist/ssr/index.js"),(0,t.Uk)("中导出。")])],-1),u=(0,t._)("p",null,[(0,t.Uk)("你可以用"),(0,t._)("code",{class:"doc-token"},"ssrProductionExport"),(0,t.Uk)("帮助器包装返回的函数，以获得更好的IDE自动完成体验(需要Quasar v2.3.1+)。")],-1),r=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// 与服务器 "应用程序 "有关的东西'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 返回你想让你的webserver输出的任何东西(无服务器的处理程序？)"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),_=(0,t._)("p",null,"我们在这里指的是生产-输出文件的默认输出函数所接收的作为参数的对象。",-1),i=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" folders"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" render"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" serve\n"),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n")])],-1),d=(0,t._)("p",null,"详述对象。",-1),U=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("     "),(0,t._)("span",{class:"token comment"},"// Expressjs app instance"),(0,t.Uk)("\n\n  port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("    "),(0,t._)("span",{class:"token comment"},"// process.env.PORT or quasar.conf > ssr > prodPort"),(0,t.Uk)("\n\n  isReady"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Function to call returning a Promise"),(0,t.Uk)("\n           "),(0,t._)("span",{class:"token comment"},"// 当应用程序准备好为客户服务时"),(0,t.Uk)("\n\n  ssrHandler"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Prebuilt app handler if your serverless service"),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// 并不要求以特定的方式来提供它。"),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// 表格：ssrHandler (req, res, next)"),(0,t.Uk)("\n              "),(0,t._)("span",{class:"token comment"},"// 提示：它在底层已经使用了isReady()。"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 下列各项都是"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 为SSR中间件(查看其文档页面)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 通常情况下，你在这里不需要这些"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// (使用真正的SSR中间件代替)"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"resolve"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"urlPath"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("path"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"root"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("arg1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" arg2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"public"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("arg1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" arg2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  publicPath"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"folders"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    root"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("     "),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"public"),(0,t.Uk)("    "),(0,t._)("span",{class:"token comment"},"// String"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token function"},"render"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrContext"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token literal-property property"},"serve"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token keyword"},"static"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("path"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" opts"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token function"},"error"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" err"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" req"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" res "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])],-1),m=(0,t._)("p",null,[(0,t.Uk)("以下是在 Quasar CLI 项目中添加SSR支持时"),(0,t._)("code",{class:"doc-token"},"/src-ssr/production-export.js"),(0,t.Uk)("的默认内容。")],-1),g=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"isReady"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"listen"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'Server listening at port '"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),y={class:"doc-note doc-note--warning"},w=(0,t._)("p",{class:"doc-note__title"},"WARNING",-1),f=(0,t._)("li",null,'如果你从node_modules中导入任何东西，那么请确保该软件包在package.json > "dependencies "中指定，而不是在 "devDependencies "中。',-1),h=(0,t.Uk)("这里通常不是添加中间件的地方(但你可以这样做)。通过使用"),v=(0,t.Uk)("SSR Middlewares"),S=(0,t.Uk)("来添加中间件。你也可以将SSR中间件配置为只为开发或只为生产运行。"),x=(0,t._)("p",null,"这是你在 Quasar CLI 项目中添加SSR支持时得到的默认选项。它开始监听配置的端口(process.env.PORT或quasar.conf > ssr > prodPort)。",-1),j=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" app"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" isReady "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 我们等待应用程序准备就绪(包括运行所有SSR中间件)。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"isReady"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token comment"},"// 然后我们开始在一个端口上监听"),(0,t.Uk)("\n    app"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"listen"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("port"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      "),(0,t._)("span",{class:"token comment"},"// 我们已准备好为客户服务"),(0,t.Uk)("\n      console"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},"'Server listening at port '"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" port"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),R=(0,t._)("p",null,"如果你有一个无服务器的基础设施，那么你一般需要导出一个处理程序，而不是开始监听一个端口。",-1),P=(0,t._)("p",null,"比方说，你的无服务器服务需要你。",-1),b=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t.Uk)("module"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("handler "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" __your_handler__\n")])],-1),H=(0,t._)("p",null,"那么你需要做的是：",-1),q=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},'// "ssrHandler "是一个预先构建的处理程序，它已经'),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token comment"},"// 在为客户提供服务之前，等待所有中间程序的运行。"),(0,t.Uk)("\n\n  "),(0,t._)("span",{class:"token comment"},"// 无论你在这里返回什么，都等同于module.exports.<key> = <value>。"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),E=(0,t._)("p",null,[(0,t.Uk)("请注意，提供的"),(0,t._)("code",{class:"doc-token"},"ssrHandler'是一个形式的函数。"),(0,t.Uk)('(req, res, next) => void`。 如果你需要输出一个"(event, context, callback) => void "形式的处理程序，那么你很可能需要使用 "serverless-http "包(见下文)。')],-1),C=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(" serverless "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'serverless-http'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"serverless"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrHandler"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1),T=(0,t._)("pre",{class:"doc-code language-js"},[(0,t._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,t._)("span",{class:"token comment"},"// src-ssr/production-export.[js|ts]"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"*"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"as"),(0,t.Uk)(" functions "),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'firebase-functions'"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrProductionExport "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},"'quasar/wrappers'"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"ssrProductionExport"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" ssrHandler "),(0,t._)("span",{class:"token punctuation"},"}")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token literal-property property"},"handler"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" functions"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("https"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"onRequest"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("ssrHandler"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])],-1);function I(n,s,a,I,D,N){const Q=(0,t.up)("doc-link"),W=(0,t.up)("doc-page");return(0,t.wg)(),(0,t.j4)(W,{"meta-title":I.metaTitle,title:"SSR 生产导出",nav:I.nav,toc:I.toc,"meta-desc":I.metaDesc},{default:(0,t.w5)((()=>[o,e,c,(0,t._)("h2",{id:"剖析",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=n=>I.copyHeading("剖析"))},"剖析"),p,k,l,u,r,(0,t._)("h2",{id:"参数",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=n=>I.copyHeading("参数"))},"参数"),_,i,d,U,(0,t._)("h2",{id:"默认内容",class:"doc-heading doc-h2",onClick:s[2]||(s[2]=n=>I.copyHeading("默认内容"))},"默认内容"),m,g,(0,t._)("h2",{id:"用法",class:"doc-heading doc-h2",onClick:s[3]||(s[3]=n=>I.copyHeading("用法"))},"用法"),(0,t._)("div",y,[w,(0,t._)("ul",null,[f,(0,t._)("li",null,[h,(0,t.Wm)(Q,{to:"/quasar-cli/developing-ssr/ssr-middleware"},{default:(0,t.w5)((()=>[v])),_:1}),S])])]),(0,t._)("h3",{id:"在一个端口上收听",class:"doc-heading doc-h3",onClick:s[4]||(s[4]=n=>I.copyHeading("在一个端口上收听"))},"在一个端口上收听"),x,j,(0,t._)("h3",{id:"无服务器",class:"doc-heading doc-h3",onClick:s[5]||(s[5]=n=>I.copyHeading("无服务器"))},"无服务器"),R,P,b,H,q,E,(0,t._)("h4",{id:"示例：serverless-http",class:"doc-heading doc-h4",onClick:s[6]||(s[6]=n=>I.copyHeading("示例：serverless-http"))},"示例：serverless-http"),C,(0,t._)("h4",{id:"示例。firebase函数",class:"doc-heading doc-h4",onClick:s[7]||(s[7]=n=>I.copyHeading("示例。firebase函数"))},"示例。Firebase函数"),T])),_:1},8,["meta-title","nav","toc","meta-desc"])}var D=a(17536);const N={name:"DocMarkdownPage",setup(){return{metaTitle:"SSR 生产导出",metaDesc:"为不同平台配置 Quasar SSR 网络服务器，包括无服务器架构。",nav:[{name:"SSR 中间件",category:"开发 SSR",path:"/quasar-cli/developing-ssr/ssr-middleware",dir:"left"},{name:"Vue SSR指令",category:"开发 SSR",path:"/quasar-cli/developing-ssr/vue-ssr-directives",dir:"right"}],toc:[{id:"剖析",title:"剖析"},{id:"参数",title:"参数"},{id:"默认内容",title:"默认内容"},{id:"用法",title:"用法"},{id:"在一个端口上收听",title:"在一个端口上收听",sub:!0},{id:"无服务器",title:"无服务器",sub:!0}],copyHeading:D.Et}}};var Q=a(74260);const W=(0,Q.Z)(N,[["render",I]]),A=W}}]);