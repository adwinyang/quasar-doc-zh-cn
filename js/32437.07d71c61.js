"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[32437],{32437:(n,a,t)=>{t.r(a),t.d(a,{default:()=>z});var o=t(83673);const s=(0,o._)("p",null,"Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Cordova. Setting up Google Analytics in a pure web application is quite easy, but Cordova somehow prevents pageviews and events from being sent to Google Analytics.",-1),e=(0,o._)("p",null,"Follow this guide to implement Google Analytics into your Cordova powered Quasar App.",-1),c=(0,o._)("p",null,"You may also want to read these great tutorials:",-1),p=(0,o.Uk)("Google Tag Manager and Analytics Setup for an SPA Website"),l=(0,o.Uk)("Google Analytics Setup for a Cordova App"),i=(0,o._)("div",{class:"doc-note doc-note--warning"},[(0,o._)("p",{class:"doc-note__title"},"WARNING"),(0,o._)("p",null,[(0,o.Uk)("You’ll need to include a "),(0,o._)("code",{class:"doc-token"},"<script>"),(0,o.Uk)(" tag provided by Google in "),(0,o._)("code",{class:"doc-token"},"/src/index.template.html"),(0,o.Uk)(", which will make your App depend on an Internet connection!")])],-1),u=(0,o.Uk)("Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the "),r=(0,o._)("code",{class:"doc-token"},"ga.logPage",-1),k=(0,o.Uk)(" function. Please refer to "),_=(0,o.Uk)("Routing"),d=(0,o.Uk)(" for more info on routing."),g=(0,o._)("li",null,"Have Basic knowledge of Google Analytics",-1),U=(0,o.Uk)("Before we can start implementing Google Analytics into your application, you’ll need an account for "),y=(0,o.Uk)("Google Analytics"),m=(0,o.Uk)(" and "),h=(0,o.Uk)("Google Tagmanager"),w=(0,o.Uk)(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),f=(0,o.Uk)("Multiminds article"),v=(0,o.Uk)(" to do so."),b={class:"doc-note"},A=(0,o.Uk)("For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see "),G=(0,o.Uk)("Analytics Documentation on user id"),j=(0,o.Uk)("."),I=(0,o.Uk)("Place the Tag Manager snippet into head of your "),C=(0,o._)("code",{class:"doc-token"},"index.html",-1),W=(0,o.Uk)(" file (if you’ve followed the "),q=(0,o.Uk)("Multiminds article"),P=(0,o.Uk)(", you already have this.) Create a new file in your codebase called "),T=(0,o._)("code",{class:"doc-token"},"analytics.js",-1),M=(0,o.Uk)(" with the following contents:"),E=(0,o._)("pre",{class:"doc-code language-javascript"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-javascript"},[(0,o._)("span",{class:"token keyword"},"export"),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"default"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token function"},"logEvent"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token parameter"},[(0,o.Uk)("category"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" action"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" label"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" sessionId "),(0,o._)("span",{class:"token operator"},"="),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"null")]),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n    window"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("dataLayer"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"push"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"appEventCategory"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" category"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"appEventAction"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" action"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"appEventLabel"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" label"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"sessionId"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" sessionId\n    "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n    window"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("dataLayer"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"push"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)(),(0,o._)("span",{class:"token string-property property"},"'event'"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'appEvent'"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n\n  "),(0,o._)("span",{class:"token function"},"logPage"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token parameter"},[(0,o.Uk)("path"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" name"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" sessionId "),(0,o._)("span",{class:"token operator"},"="),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"null")]),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n    window"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("dataLayer"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"push"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"screenPath"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" path"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"screenName"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" name"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)("\n      "),(0,o._)("span",{class:"token literal-property property"},"sessionId"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(" sessionId\n    "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n    window"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("dataLayer"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"push"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)(),(0,o._)("span",{class:"token string-property property"},"'event'"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'appScreenView'"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n"),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n")])],-1),x=(0,o._)("p",null,"To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:",-1),H=(0,o._)("pre",{class:"doc-code language-bash"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,o.Uk)("$ quasar new boot google-analytics "),(0,o._)("span",{class:"token punctuation"},"["),(0,o.Uk)("--format ts"),(0,o._)("span",{class:"token punctuation"},"]"),(0,o.Uk)("\n")])],-1),S=(0,o._)("p",null,[(0,o.Uk)("Then we edit the newly created file: "),(0,o._)("code",{class:"doc-token"},"/src/boot/google-analytics.js"),(0,o.Uk)(":")],-1),D=(0,o._)("pre",{class:"doc-code language-js"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,o._)("span",{class:"token keyword"},"import"),(0,o.Uk)(" ga "),(0,o._)("span",{class:"token keyword"},"from"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'analytics.js'"),(0,o.Uk)("\n\n"),(0,o._)("span",{class:"token keyword"},"export"),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"default"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token parameter"},[(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)(" router "),(0,o._)("span",{class:"token punctuation"},"}")]),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)(),(0,o._)("span",{class:"token operator"},"=>"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n  router"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"afterEach"),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token punctuation"},"("),(0,o._)("span",{class:"token parameter"},[(0,o.Uk)("to"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(),(0,o._)("span",{class:"token keyword"},"from")]),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)(),(0,o._)("span",{class:"token operator"},"=>"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"{"),(0,o.Uk)("\n    ga"),(0,o._)("span",{class:"token punctuation"},"."),(0,o._)("span",{class:"token function"},"logPage"),(0,o._)("span",{class:"token punctuation"},"("),(0,o.Uk)("to"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("path"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" to"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("name"),(0,o._)("span",{class:"token punctuation"},","),(0,o.Uk)(" sessionId"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n  "),(0,o._)("span",{class:"token punctuation"},"}"),(0,o._)("span",{class:"token punctuation"},")"),(0,o.Uk)("\n"),(0,o._)("span",{class:"token punctuation"},"}"),(0,o.Uk)("\n")])],-1),L=(0,o._)("p",null,[(0,o.Uk)("Finally we register the app boot file in "),(0,o._)("code",{class:"doc-token"},"/quasar.conf.js"),(0,o.Uk)(". We can do so only for Cordova wrapped apps if we want:")],-1),F=(0,o._)("pre",{class:"doc-code language-js"},[(0,o._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,o._)("span",{class:"token literal-property property"},"boot"),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token punctuation"},"["),(0,o.Uk)("\n  ctx"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("mode"),(0,o._)("span",{class:"token punctuation"},"."),(0,o.Uk)("cordova "),(0,o._)("span",{class:"token operator"},"?"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"'google-analytics'"),(0,o.Uk)(),(0,o._)("span",{class:"token operator"},":"),(0,o.Uk)(),(0,o._)("span",{class:"token string"},"''"),(0,o.Uk)("\n"),(0,o._)("span",{class:"token punctuation"},"]"),(0,o.Uk)("\n")])],-1),N=(0,o.Uk)("More information about events can be found in the "),Y=(0,o.Uk)("Analytics documentation on events"),B=(0,o.Uk)("."),Q=(0,o._)("p",null,"You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.",-1);function R(n,a,t,R,O,V){const Z=(0,o.up)("doc-link"),$=(0,o.up)("doc-page");return(0,o.wg)(),(0,o.j4)($,{"meta-title":R.metaTitle,title:"Managing Google Analytics","meta-desc":R.metaDesc},{default:(0,o.w5)((()=>[s,e,c,(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(Z,{to:"https://jannerantala.com/tutorials/quasar-framework-google-tag-manager-and-analytics-setup-for-an-spa-website/"},{default:(0,o.w5)((()=>[p])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(Z,{to:"https://jannerantala.com/tutorials/quasar-framework-google-analytics-setup-for-cordova-app/"},{default:(0,o.w5)((()=>[l])),_:1})])]),i,(0,o._)("h2",{id:"prerequisites",class:"doc-heading doc-h2",onClick:a[0]||(a[0]=n=>R.copyHeading("prerequisites"))},"Prerequisites"),(0,o._)("ul",null,[(0,o._)("li",null,[u,r,k,(0,o.Wm)(Z,{to:"/quasar-cli/routing"},{default:(0,o.w5)((()=>[_])),_:1}),d]),g]),(0,o._)("h2",{id:"preparation",class:"doc-heading doc-h2",onClick:a[1]||(a[1]=n=>R.copyHeading("preparation"))},"Preparation"),(0,o._)("p",null,[U,(0,o.Wm)(Z,{to:"https://analytics.google.com"},{default:(0,o.w5)((()=>[y])),_:1}),m,(0,o.Wm)(Z,{to:"https://tagmanager.google.com/"},{default:(0,o.w5)((()=>[h])),_:1}),w,(0,o.Wm)(Z,{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"},{default:(0,o.w5)((()=>[f])),_:1}),v]),(0,o._)("h2",{id:"implementing-this-into-application",class:"doc-heading doc-h2",onClick:a[2]||(a[2]=n=>R.copyHeading("implementing-this-into-application"))},"Implementing this into application"),(0,o._)("blockquote",b,[(0,o._)("p",null,[A,(0,o.Wm)(Z,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"},{default:(0,o.w5)((()=>[G])),_:1}),j])]),(0,o._)("p",null,[I,C,W,(0,o.Wm)(Z,{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"},{default:(0,o.w5)((()=>[q])),_:1}),P,T,M]),E,x,H,S,D,L,F,(0,o._)("p",null,[N,(0,o.Wm)(Z,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"},{default:(0,o.w5)((()=>[Y])),_:1}),B]),Q])),_:1},8,["meta-title","meta-desc"])}var O=t(17536);const V={name:"DocMarkdownPage",setup(){return{metaTitle:"Managing Google Analytics",metaDesc:"How to use analytics in a Quasar hybrid mobile app with Cordova.",copyHeading:O.Et}}};var Z=t(74260);const $=(0,Z.Z)(V,[["render",R]]),z=$}}]);