"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[49599],{49599:(n,t,s)=>{s.r(t),s.d(t,{default:()=>an});var a=s(83673);const e=(0,a._)("p",null,[(0,a.Uk)("The PreFetch is a feature ("),(0,a._)("strong",null,"only available when using Quasar CLI"),(0,a.Uk)(") which allows the components picked up by Vue Router (defined in "),(0,a._)("code",{class:"doc-token"},"/src/router/routes.js"),(0,a.Uk)(") to:")],-1),o=(0,a._)("ul",null,[(0,a._)("li",null,"pre-fetch data"),(0,a._)("li",null,"validate the route"),(0,a._)("li",null,"redirect to another route, when some conditions aren’t met (like user isn’t logged in)"),(0,a._)("li",null,"can help in initializing the Store state")],-1),c=(0,a._)("p",null,"All the above will run before the actual route component is rendered.",-1),p=(0,a._)("p",null,[(0,a._)("strong",null,"It is designed to work with all Quasar modes"),(0,a.Uk)(" (SPA, PWA, SSR, Cordova, Electron), but it is especially useful for SSR builds.")],-1),l=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// quasar.conf.js"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token literal-property property"},"preFetch"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token boolean"},"true"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1),k=(0,a._)("div",{class:"doc-note doc-note--warning"},[(0,a._)("p",{class:"doc-note__title"},"WARNING"),(0,a._)("p",null,[(0,a.Uk)("When you use it to pre-fetch data, you are required to use a Vuex Store, so make sure that your project folder has the "),(0,a._)("code",{class:"doc-token"},"/src/store"),(0,a.Uk)(" folder when you create your project, otherwise generate a new project and copy the store folder contents to your current project.")])],-1),u=(0,a._)("p",null,[(0,a.Uk)("This feature is especially useful for the SSR mode (but not limited to it only). During SSR, we are essentially rendering a “snapshot” of our app, so if the app relies on some asynchronous data, "),(0,a._)("strong",null,"then this data needs to be pre-fetched and resolved before we start the rendering process"),(0,a.Uk)(".")],-1),i=(0,a._)("p",null,"Another concern is that on the client, the same data needs to be available before we mount the client side app - otherwise the client app would render using a different state and the hydration would fail.",-1),r=(0,a._)("p",null,"To address this, the fetched data needs to live outside the view components, in a dedicated data store, or a “state container”. On the server, we can pre-fetch and fill data into the store before rendering. The client-side store will directly pick up the server state before we mount the app.",-1),_=(0,a._)("p",null,[(0,a.Uk)("The "),(0,a._)("code",{class:"doc-token"},"preFetch"),(0,a.Uk)(" hook (described in next sections) is determined by the route visited - which also determines what components are rendered. In fact, the data needed for a given route is also the data needed by the components rendered at that route. "),(0,a._)("strong",null,"So it is natural (and also required) to place the hook logic ONLY inside route components."),(0,a.Uk)(" This includes "),(0,a._)("code",{class:"doc-token"},"/src/App.vue"),(0,a.Uk)(", which in this case will run only once at the app bootup.")],-1),d=(0,a._)("p",null,[(0,a.Uk)("Let’s take an example in order to understand when the hook is being called. Let’s say we have these routes and we’ve written "),(0,a._)("code",{class:"doc-token"},"preFetch"),(0,a.Uk)(" hooks for all these components:")],-1),U=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// routes"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"["),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'/'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" LandingPage\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'/shop'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" ShopLayout"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"children"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"["),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'all'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" ShopAll\n      "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'new'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" ShopNew\n      "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'product/:name'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" ShopProduct"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n        "),(0,a._)("span",{class:"token literal-property property"},"children"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"["),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n          "),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'overview'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n          "),(0,a._)("span",{class:"token literal-property property"},"component"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" ShopProductOverview\n        "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},"]"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"]"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"]"),(0,a.Uk)("\n")])],-1),h=(0,a._)("p",null,"Now, let’s see how the hooks are called when the user visits these routes in the order specified below, one after another.",-1),g=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-left"},"Route being visited"),(0,a._)("th",{class:"text-left"},"Hooks called from"),(0,a._)("th",{class:"text-left"},"Observations")])],-1),m=(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/")]),(0,a._)("td",null,"App.vue then LandingPage"),(0,a._)("td",null,"App.vue hook is called since our app boots up.")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/shop/all")]),(0,a._)("td",null,"ShopLayout then ShopAll"),(0,a._)("td",null,"-")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/shop/new")]),(0,a._)("td",null,"ShopNew"),(0,a._)("td",null,"ShopNew is a child of ShopLayout, and ShopLayout is already rendered, so ShopLayout isn’t called again.")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/shop/product/pyjamas")]),(0,a._)("td",null,"ShopProduct"),(0,a._)("td",null,"-")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/shop/product/shoes")]),(0,a._)("td",null,"ShopProduct"),(0,a._)("td",null,"Quasar notices the same component is already rendered, but the route has been updated and it has route params, so it calls the hook again.")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/shop/product/shoes/overview")]),(0,a._)("td",null,"ShopProduct then ShopProductOverview"),(0,a._)("td",null,"ShopProduct has route params so it is called even though it’s already rendered.")]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("code",{class:"doc-token"},"/")]),(0,a._)("td",null,"LandingPage"),(0,a._)("td",null,"-")])],-1),y=(0,a._)("p",null,[(0,a.Uk)("The hook is defined as a custom static function called "),(0,a._)("code",{class:"doc-token"},"preFetch"),(0,a.Uk)(" on our route components. Note that because this function will be called before the components are instantiated, it doesn’t have access to "),(0,a._)("code",{class:"doc-token"},"this"),(0,a.Uk)(".")],-1),f=(0,a._)("pre",{class:"doc-code language-html"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-html"},[(0,a._)("span",{class:"token comment"},"\x3c!-- some .vue component used as route --\x3e"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("template")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("{{ item.title }}"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("template")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a._)("span",{class:"token script"},[(0,a._)("span",{class:"token language-javascript"},[(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" useStore "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'vuex'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// our hook here"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" store"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" currentRoute"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" previousRoute"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" redirect"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" ssrContext"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" urlPath"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" publicPath "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// fetch data, validate route and optionally redirect to some other route..."),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token comment"},"// ssrContext is available only server-side in SSR mode"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token comment"},'// No access to "this" here'),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token comment"},"// Return a Promise if you are running an async job"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// Example:"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(" store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"dispatch"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'fetchItem'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" currentRoute"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("params"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("id"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"setup"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" $store "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"useStore"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token comment"},"// display the item from store state."),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" item "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"computed"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(" $store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("state"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("items"),(0,a._)("span",{class:"token punctuation"},"["),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("$route"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("params"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("id"),(0,a._)("span",{class:"token punctuation"},"]"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" item "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])],-1),w=(0,a._)("p",null,[(0,a.Uk)("If you are using "),(0,a._)("code",{class:"doc-token"},"<script setup>"),(0,a.Uk)(", then add a "),(0,a._)("code",{class:"doc-token"},"<script>"),(0,a.Uk)(" section besides it which simply returns an Object with the preFetch() method:")],-1),v=(0,a._)("pre",{class:"doc-code language-html"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-html"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a._)("span",{class:"token script"},[(0,a._)("span",{class:"token language-javascript"},[(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    console"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"log"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'running preFetch'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n\n\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("script")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"setup"),(0,a._)("span",{class:"token punctuation"},">")]),(0,a._)("span",{class:"token script"},[(0,a._)("span",{class:"token language-javascript"},[(0,a._)("span",{class:"token operator"},"..."),(0,a._)("span",{class:"token punctuation"},".")])]),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])],-1),b={class:"doc-note doc-note--tip"},S=(0,a._)("p",{class:"doc-note__title"},"TIP",-1),x=(0,a.Uk)("If you are developing a SSR app, then you can check out the "),j=(0,a.Uk)("ssrContext"),F=(0,a.Uk)(" Object that gets supplied server-side."),P=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// related action for Promise example"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// ..."),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token literal-property property"},"actions"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"fetchItem"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" commit "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" id")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(" axiosInstance"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"get"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("url"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" id"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"then"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" data "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token function"},"commit"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'mutation'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" data"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token comment"},"// ..."),(0,a.Uk)("\n")])],-1),C=(0,a._)("p",null,"Below is an example of redirecting the user under some circumstances, like when they try to access a page that only an authenticated user should see.",-1),L=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// We assume here we already wrote the authentication logic"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// in the Vuex Store, so take as a high-level example only."),(0,a.Uk)("\n"),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" store"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" redirect "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"if"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token operator"},"!"),(0,a.Uk)("store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("state"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("authenticated"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token function"},"redirect"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token literal-property property"},"path"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'/login'"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1),I=(0,a._)("p",null,[(0,a.Uk)("If "),(0,a._)("code",{class:"doc-token"},"redirect(false)"),(0,a.Uk)(" is called (supported only on client-side!), it aborts the current route navigation. Note that if you use it like this in "),(0,a._)("code",{class:"doc-token"},"src/App.vue"),(0,a.Uk)(" it will halt the app bootup, which is undesirable.")],-1),T=(0,a._)("p",null,[(0,a.Uk)("The "),(0,a._)("code",{class:"doc-token"},"redirect()"),(0,a.Uk)(" method requires a Vue Router location Object.")],-1),R=(0,a._)("p",null,[(0,a.Uk)("The "),(0,a._)("code",{class:"doc-token"},"preFetch"),(0,a.Uk)(" hook runs only once, when the app boots up, so you can use this opportunity to initialize the Vuex Store here.")],-1),A=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// App.vue"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// ..."),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" store "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// initialize something in store here"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1),H=(0,a._)("p",null,"In a large application, your Vuex store will likely be split into multiple modules. Of course, it is also possible to code-split these modules into corresponding route component chunks. Suppose we have the following store module:",-1),q=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// src/store/foo.js"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// we've merged everything into one file here;"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// an initialized Quasar project splits every component of a Vuex module"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// into separate files, but for the sake of the example"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token comment"},"// here in the docs, we show this module as a single file"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token literal-property property"},"namespaced"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token boolean"},"true"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// IMPORTANT: state must be a function so the module can be"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// instantiated multiple times"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function-variable function"},"state"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token literal-property property"},"count"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token number"},"0"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token literal-property property"},"actions"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token function-variable function"},"inc"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" commit "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"commit"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'inc'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token literal-property property"},"mutations"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token function-variable function"},"inc"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token parameter"},"state"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(" state"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("count"),(0,a._)("span",{class:"token operator"},"++"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1),M=(0,a._)("p",null,[(0,a.Uk)("Now, we can use "),(0,a._)("code",{class:"doc-token"},"store.registerModule()"),(0,a.Uk)(" to lazy-register this module in a route component’s "),(0,a._)("code",{class:"doc-token"},"preFetch()"),(0,a.Uk)(" hook:")],-1),N=(0,a._)("pre",{class:"doc-code language-html"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-html"},[(0,a.Uk)("// inside a route component\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("template")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("{{ fooCount }}"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("template")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a._)("span",{class:"token script"},[(0,a._)("span",{class:"token language-javascript"},[(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" useStore "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'vuex'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" onMounted"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" onUnmounted "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'vue'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token comment"},"// import the module here instead of in `src/store/index.js`"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(" fooStoreModule "),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'store/foo'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" store "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"registerModule"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'foo'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" fooStoreModule"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(" store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"dispatch"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'foo/inc'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"setup"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" $store "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"useStore"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token function"},"onMounted"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token comment"},"// Preserve the previous state if it was injected from the server"),(0,a.Uk)("\n      $store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"registerModule"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'foo'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" fooStoreModule"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token literal-property property"},"preserveState"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token boolean"},"true"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token function"},"onUnmounted"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token comment"},"// IMPORTANT: avoid duplicate module registration on the client"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token comment"},"// when the route is visited multiple times."),(0,a.Uk)("\n      $store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"unregisterModule"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'foo'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" fooCount "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"computed"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(" $store"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("state"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("foo"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("count\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      fooCount\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("script")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])],-1),W=(0,a._)("p",null,"Also note that because the module is now a dependency of the route component, it will be moved into the route component’s async chunk by Webpack.",-1),z=(0,a._)("div",{class:"doc-note doc-note--warning"},[(0,a._)("p",{class:"doc-note__title"},"WARNING"),(0,a._)("p",null,[(0,a.Uk)("Don’t forget to use the "),(0,a._)("code",{class:"doc-token"},"preserveState: true"),(0,a.Uk)(" option for "),(0,a._)("code",{class:"doc-token"},"registerModule"),(0,a.Uk)(" so we keep the state injected by the server.")])],-1),O=(0,a._)("p",null,[(0,a.Uk)("You can use "),(0,a._)("code",{class:"doc-token"},"preFetch"),(0,a.Uk)(" helper to type-hint the store parameter (which will otherwise have an "),(0,a._)("code",{class:"doc-token"},"any"),(0,a.Uk)(" type):")],-1),Q=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" preFetch "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'quasar/wrappers'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" Store "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'vuex'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"interface"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"StateInterface"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// ..."),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token literal-property property"},"preFetch"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" preFetch"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("StateInterface"),(0,a._)("span",{class:"token operator"},">"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" store "),(0,a._)("span",{class:"token punctuation"},"}")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token comment"},"// Do something with your newly-typed store parameter"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1),V=(0,a._)("div",{class:"doc-note doc-note--tip"},[(0,a._)("p",{class:"doc-note__title"},"TIP"),(0,a._)("p",null,[(0,a.Uk)("This is useful only to type "),(0,a._)("code",{class:"doc-token"},"store"),(0,a.Uk)(" parameter, other parameters are automatically typed even when using the normal syntax.")])],-1),$=(0,a._)("p",null,"A good UX includes notifying the user that something is being worked on in the background while he/she waits for the page to be ready. Quasar CLI offers two options for this out of the box.",-1),D=(0,a.Uk)("When you add Quasar "),E=(0,a.Uk)("LoadingBar"),B=(0,a.Uk)(" plugin to your app, Quasar CLI will use it while it runs the preFetch hooks by default."),G=(0,a.Uk)("There’s also the possibility to use Quasar "),Y=(0,a.Uk)("Loading"),X=(0,a.Uk)(" plugin. Here’s an example:"),Z=(0,a._)("pre",{class:"doc-code language-js"},[(0,a._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,a._)("span",{class:"token comment"},"// a route .vue component"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" Loading "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'quasar'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"default"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token comment"},"// ..."),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"preFetch"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token comment"},"/* ... */"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    Loading"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"show"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"new"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"Promise"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token parameter"},"resolve"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token comment"},"// do something async here"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token comment"},'// then call "resolve()"'),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"then"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      Loading"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"hide"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])],-1);function J(n,t,s,J,K,nn){const tn=(0,a.up)("q-markup-table"),sn=(0,a.up)("doc-link"),an=(0,a.up)("doc-page");return(0,a.wg)(),(0,a.j4)(an,{"meta-title":J.metaTitle,title:"PreFetch Feature",related:J.related,toc:J.toc,"meta-desc":J.metaDesc},{default:(0,a.w5)((()=>[e,o,c,p,(0,a._)("h2",{id:"installation",class:"doc-heading doc-h2",onClick:t[0]||(t[0]=n=>J.copyHeading("installation"))},"Installation"),l,k,(0,a._)("h2",{id:"how-prefetch-helps-ssr-mode",class:"doc-heading doc-h2",onClick:t[1]||(t[1]=n=>J.copyHeading("how-prefetch-helps-ssr-mode"))},"How PreFetch Helps SSR Mode"),u,i,r,(0,a._)("h2",{id:"when-prefetch-gets-activated",class:"doc-heading doc-h2",onClick:t[2]||(t[2]=n=>J.copyHeading("when-prefetch-gets-activated"))},"When PreFetch Gets Activated"),_,d,U,h,(0,a.Wm)(tn,{"wrap-cells":!0,flat:!0,bordered:!0,style:{width:"fit-content","max-width":"100%"}},{default:(0,a.w5)((()=>[g,m])),_:1}),(0,a._)("h2",{id:"usage",class:"doc-heading doc-h2",onClick:t[3]||(t[3]=n=>J.copyHeading("usage"))},"Usage"),y,f,w,v,(0,a._)("div",b,[S,(0,a._)("p",null,[x,(0,a.Wm)(sn,{to:"/quasar-cli/developing-ssr/ssr-context"},{default:(0,a.w5)((()=>[j])),_:1}),F])]),P,(0,a._)("h3",{id:"redirecting-example",class:"doc-heading doc-h3",onClick:t[4]||(t[4]=n=>J.copyHeading("redirecting-example"))},"Redirecting Example"),C,L,I,T,(0,a._)("h3",{id:"using-prefetch-to-initialize-the-store",class:"doc-heading doc-h3",onClick:t[5]||(t[5]=n=>J.copyHeading("using-prefetch-to-initialize-the-store"))},"Using preFetch to Initialize the Store"),R,A,(0,a._)("h3",{id:"store-code-splitting",class:"doc-heading doc-h3",onClick:t[6]||(t[6]=n=>J.copyHeading("store-code-splitting"))},"Store Code Splitting"),H,q,M,N,W,z,(0,a._)("h3",{id:"usage-with-typescript",class:"doc-heading doc-h3",onClick:t[7]||(t[7]=n=>J.copyHeading("usage-with-typescript"))},"Usage with TypeScript"),O,Q,V,(0,a._)("h2",{id:"loading-state",class:"doc-heading doc-h2",onClick:t[8]||(t[8]=n=>J.copyHeading("loading-state"))},"Loading State"),$,(0,a._)("h3",{id:"loadingbar",class:"doc-heading doc-h3",onClick:t[9]||(t[9]=n=>J.copyHeading("loadingbar"))},"LoadingBar"),(0,a._)("p",null,[D,(0,a.Wm)(sn,{to:"/quasar-plugins/loading-bar"},{default:(0,a.w5)((()=>[E])),_:1}),B]),(0,a._)("h3",{id:"loading",class:"doc-heading doc-h3",onClick:t[10]||(t[10]=n=>J.copyHeading("loading"))},"Loading"),(0,a._)("p",null,[G,(0,a.Wm)(sn,{to:"/quasar-plugins/loading"},{default:(0,a.w5)((()=>[Y])),_:1}),X]),Z])),_:1},8,["meta-title","related","toc","meta-desc"])}var K=s(17536);const nn={name:"DocMarkdownPage",setup(){return{metaTitle:"PreFetch Feature",metaDesc:"How to prefetch data and initialize your Vuex store, validate the route and redirect to another page in a Quasar app.",related:[{name:"quasar.conf.js",category:"Quasar CLI",path:"/quasar-cli/quasar-conf-js"}],toc:[{id:"installation",title:"Installation"},{id:"how-prefetch-helps-ssr-mode",title:"How PreFetch Helps SSR Mode"},{id:"when-prefetch-gets-activated",title:"When PreFetch Gets Activated"},{id:"usage",title:"Usage"},{id:"redirecting-example",title:"Redirecting Example",sub:!0},{id:"using-prefetch-to-initialize-the-store",title:"Using preFetch to Initialize the Store",sub:!0},{id:"store-code-splitting",title:"Store Code Splitting",sub:!0},{id:"usage-with-typescript",title:"Usage with TypeScript",sub:!0},{id:"loading-state",title:"Loading State"},{id:"loadingbar",title:"LoadingBar",sub:!0},{id:"loading",title:"Loading",sub:!0}],copyHeading:K.Et}}};var tn=s(74260);const sn=(0,tn.Z)(nn,[["render",J]]),an=sn}}]);