"use strict";(globalThis["webpackChunkquasar_dev"]=globalThis["webpackChunkquasar_dev"]||[]).push([[42349],{42349:(a,n,o)=>{o.r(n),o.d(n,{default:()=>L});var s=o(83673);const e=(0,s.Uk)("Quasar CLI"),c=(0,s.Uk)(" 使得从你的源代码中开发或构建最终的可分发程序变得异常简单。"),d=(0,s._)("p",null,"在我们深入研究之前，请确保你已经安装了Cordova CLI。",-1),t=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ "),(0,s._)("span",{class:"token function"},"npm"),(0,s.Uk)(),(0,s._)("span",{class:"token function"},"install"),(0,s.Uk)(" -g cordova\n")])],-1),l=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar dev -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# ..或显示形式:"),(0,s.Uk)("\n$ quasar dev -m cordova -T "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# ..或更长的形式:"),(0,s.Uk)("\n$ quasar dev --mode cordova --target "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# 使用特定的模拟器（-emulator，-e）"),(0,s.Uk)("\n$ quasar dev -m ios -e iPhone-7\n"),(0,s._)("span",{class:"token comment"},"# 或"),(0,s.Uk)("\n$ quasar dev -m ios -e iPhone-X,com.apple.CoreSimulator.SimRuntime.iOS-12-2\n\n"),(0,s._)("span",{class:"token comment"},"# 将额外参数和/或选项传递给"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"# 底层 “cordova” 可执行文件："),(0,s.Uk)("\n$ quasar dev -m ios -- some params --and options --here\n"),(0,s._)("span",{class:"token comment"},"# 在 Windows 上使用 Powershell 时："),(0,s.Uk)("\n$ quasar dev -m ios "),(0,s._)("span",{class:"token string"},"'--'"),(0,s.Uk)(" some params --and options --here\n")])],-1),r=(0,s._)("p",null,"然而，如果你希望打开 IDE(Android Studio / Xcode)，并从中手动选择模拟器(或同时选择多个模拟器！)，在它/他们的上面运行开发应用(或在真正的移动/平板设备上运行开发应用), 请执行以下操作：",-1),i=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar dev -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" --ide\n")])],-1),p=(0,s._)("div",{class:"doc-note doc-note--warning"},[(0,s._)("p",{class:"doc-note__title"},"WARNING"),(0,s._)("p",null,[(0,s.Uk)("在Android Studio中，你会看到一条信息，建议升级 Gradle 版本。"),(0,s._)("strong",null,"不要升级 Gradle"),(0,s.Uk)("，因为这将破坏 Cordova 项目。任何其他要求的升级也是如此。")]),(0,s._)("p",null,[(0,s._)("img",{src:"https://cdn.quasar.dev/img/gradle-upgrade-notice.png",alt:"Gradle升级",class:"q-my-md fit rounded-borders",style:{"max-width":"350px"}}),(0,s.Uk)("。")]),(0,s._)("p",null,"如果你遇到任何IDE错误，那么请点击 文件(File) > 无效缓存(Invalidate) 并重新启动。"),(0,s._)("img",{src:"https://cdn.quasar.dev/img/gradle-invalidate-cache.png",alt:"Gradle upgrade",class:"q-mt-md fit rounded-borders",style:{"max-width":"350px"}})],-1),u=(0,s._)("p",null,"为了使你能够在设备模拟器上或直接在手机上开发(包括热模块重装)，Quasar CLI 遵循以下步骤。",-1),_=(0,s._)("ol",null,[(0,s._)("li",null,"检测你的机器的外部IP地址。如果检测到有多个这样的IP，那么它会要求你选择一个。如果你将使用手机进行开发，那么选择你的机器的IP地址，该地址可以从手机/平板电脑上ping到。"),(0,s._)("li",null,"它在你的机器上启动了一个开发服务器。"),(0,s._)("li",null,[(0,s.Uk)("它暂时改变"),(0,s._)("code",{class:"doc-token"},"/src-cordova/config.xml"),(0,s.Uk)("中的"),(0,s._)("code",{class:"doc-token"},"<content/>"),(0,s.Uk)("标签，指向之前检测到的IP。这允许应用程序连接到开发服务器。")]),(0,s._)("li",null,"它推迟到Cordova CLI，用临时改变的config.xml建立一个本地应用程序。"),(0,s._)("li",null,"Cordova CLI检查是否有手机/平板电脑连接到你的开发机器。如果有，它就在上面安装开发应用程序。如果没有，它就启动一个模拟器并运行开发应用程序。"),(0,s._)("li",null,[(0,s.Uk)("最后，它恢复对"),(0,s._)("code",{class:"doc-token"},"/src-cordova/config.xml"),(0,s.Uk)("的临时修改。")])],-1),k=(0,s._)("div",{class:"doc-note doc-note--danger"},[(0,s._)("p",{class:"doc-note__title"},"WARNING"),(0,s._)("p",null,"如果在手机/平板电脑上开发，非常重要的一点是，你的构建机器的外部IP地址可以从手机/平板电脑上访问，否则你会得到一个只有白屏的开发应用。还要检查你的机器的防火墙是否允许连接到开发选择的端口。")],-1),m=(0,s._)("p",null,[(0,s.Uk)("默认情况下，由于 Cordova 问题，iOS 的 Xcode 现代构建(modern build)被禁用。然而，如果你知道你在做什么，并且你想启用它，可以从"),(0,s._)("code",{class:"doc-token"},"/quasar.conf.js"),(0,s.Uk)("中这样做。")],-1),g=(0,s._)("pre",{class:"doc-code language-js"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-js"},[(0,s._)("span",{class:"token literal-property property"},"cordova"),(0,s._)("span",{class:"token operator"},":"),(0,s.Uk)(),(0,s._)("span",{class:"token punctuation"},"{"),(0,s.Uk)("\n  "),(0,s._)("span",{class:"token literal-property property"},"noIosLegacyBuildFlag"),(0,s._)("span",{class:"token operator"},":"),(0,s.Uk)(),(0,s._)("span",{class:"token boolean"},"true"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token punctuation"},"}"),(0,s.Uk)("\n")])],-1),U=(0,s._)("p",null,"如果你想在 “build.json” 中指定构建类型，上述内容也适用。",-1),v=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("android"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("ios"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# ..或者显示指定:"),(0,s.Uk)("\n$ quasar build -m cordova -T "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# ..或更长的开式:"),(0,s.Uk)("\n$ quasar build --mode cordova --target "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)("\n\n"),(0,s._)("span",{class:"token comment"},"# 这会跳过 .app 或 .apk 创建并只填写 /src-cordova/www"),(0,s.Uk)("\n$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" --skip-pkg\n\n"),(0,s._)("span",{class:"token comment"},"# 传递额外的参数和/或选项到"),(0,s.Uk)("\n"),(0,s._)("span",{class:"token comment"},"# 底层 “cordova” 可执行文件："),(0,s.Uk)("\n$ quasar build -m ios -- some params --and options --here\n")])],-1),h=(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("p",null,[(0,s.Uk)("这些命令解析并建立你的"),(0,s._)("code",{class:"doc-token"},"/src"),(0,s.Uk)("文件夹，然后覆盖"),(0,s._)("code",{class:"doc-token"},"/src-cordova/www"),(0,s.Uk)("，然后交由Cordova CLI来触发实际的本地应用创建。")])]),(0,s._)("li",null,[(0,s._)("p",null,[(0,s.Uk)("除非另有配置，否则构建的软件包将位于"),(0,s._)("code",{class:"doc-token"},"/dist/cordova"),(0,s.Uk)("中。")])]),(0,s._)("li",null,[(0,s._)("p",null,[(0,s.Uk)("如果你希望跳过Cordova CLI打包步骤，只填充"),(0,s._)("code",{class:"doc-token"},"/src-cordova/www"),(0,s.Uk)("文件夹。")])])],-1),b=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" --skip-pkg\n")])],-1),q=(0,s._)("ul",null,[(0,s._)("li",null,"如果你希望使用IDE(Android Studio / Xcode)手动构建最终资产，而不是做终端构建，那么。")],-1),C=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" --ide\n")])],-1),w=(0,s._)("div",{class:"doc-note doc-note--warning"},[(0,s._)("p",{class:"doc-note__title"},"WARNING"),(0,s._)("p",null,[(0,s.Uk)("在Android Studio中，你会看到一条信息，建议升级 Gradle 版本。"),(0,s._)("strong",null,"不要升级 Gradle"),(0,s.Uk)("，因为这将破坏 Cordova 项目。任何其他要求的升级也是如此。")]),(0,s._)("p",null,[(0,s._)("img",{src:"https://cdn.quasar.dev/img/gradle-upgrade-notice.png",alt:"Gradle升级",class:"q-my-md fit rounded-borders",style:{"max-width":"350px"}}),(0,s.Uk)("。")]),(0,s._)("p",null,"如果你遇到任何IDE错误，那么请点击文件>无效缓存并重新启动。"),(0,s._)("img",{src:"https://cdn.quasar.dev/img/gradle-invalidate-cache.png",alt:"Gradle upgrade",class:"q-mt-md fit rounded-borders",style:{"max-width":"350px"}})],-1),I=(0,s._)("p",null,"如果你想在生产构建中启用UI代码的调试功能。",-1),$=(0,s._)("pre",{class:"doc-code language-bash"},[(0,s._)("code",{class:"doc-code__inner doc-code__inner--prerendered language-bash"},[(0,s.Uk)("$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" -d\n\n"),(0,s._)("span",{class:"token comment"},"# ..或更长的形式"),(0,s.Uk)("\n$ quasar build -m "),(0,s._)("span",{class:"token punctuation"},"["),(0,s.Uk)("ios"),(0,s._)("span",{class:"token operator"},"|"),(0,s.Uk)("android"),(0,s._)("span",{class:"token punctuation"},"]"),(0,s.Uk)(" --debug\n")])],-1);function y(a,n,o,y,f,x){const G=(0,s.up)("doc-link"),S=(0,s.up)("doc-page");return(0,s.wg)(),(0,s.j4)(S,{"meta-title":y.metaTitle,title:"移动应用程序构建命令",nav:y.nav,toc:y.toc,"meta-desc":y.metaDesc},{default:(0,s.w5)((()=>[(0,s._)("p",null,[(0,s.Wm)(G,{to:"/quasar-cli/installation"},{default:(0,s.w5)((()=>[e])),_:1}),c]),d,t,(0,s._)("h2",{id:"开发",class:"doc-heading doc-h2",onClick:n[0]||(n[0]=a=>y.copyHeading("开发"))},"开发"),l,r,i,p,u,_,k,(0,s._)("h3",{id:"启用ios现代构建",class:"doc-heading doc-h3",onClick:n[1]||(n[1]=a=>y.copyHeading("启用ios现代构建"))},"启用iOS现代构建"),m,g,U,(0,s._)("h2",{id:"为生产而构建",class:"doc-heading doc-h2",onClick:n[2]||(n[2]=a=>y.copyHeading("为生产而构建"))},"为生产而构建"),v,h,b,q,C,w,I,$])),_:1},8,["meta-title","nav","toc","meta-desc"])}var f=o(17536);const x={name:"DocMarkdownPage",setup(){return{metaTitle:"移动应用程序构建命令",metaDesc:"在用 Cordova 开发或构建混合移动应用时的 Quasar CLI 命令列表。",nav:[{name:"Cordova 插件",category:"开发 Cordova 应用程序",path:"/quasar-cli/developing-cordova-apps/cordova-plugins",dir:"left"},{name:"故障排除和提示",category:"开发 Cordova 应用程序",path:"/quasar-cli/developing-cordova-apps/troubleshooting-and-tips",dir:"right"}],toc:[{id:"开发",title:"开发"},{id:"启用ios现代构建",title:"启用iOS现代构建",sub:!0},{id:"为生产而构建",title:"为生产而构建"}],copyHeading:f.Et}}};var G=o(74260);const S=(0,G.Z)(x,[["render",y]]),L=S}}]);